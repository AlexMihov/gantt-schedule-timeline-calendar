const e="undefined"!=typeof PointerEvent;String(Math.random()).slice(2),document.createComment(""),document.createElement("template"),document.createTextNode("");let t=!1;(()=>{try{const e={get capture(){return t=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})(),"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.7");document.createElement("template");class i{constructor(){this.isAction=!0}}i.prototype.isAction=!0;document.createTextNode("");const n={enabled:!0};var s={ItemHold:function(e={}){let t;const i={time:1e3,movementThreshold:2,action(e,t){}};e=Object.assign(Object.assign({},i),e);const n={},s={x:0,y:0};function o(e){void 0!==n[e]&&delete n[e]}function r(i,r){function c(o){!function(i,o,r){if(void 0===n[i.id]){const c=t.normalizePointerEvent(r);n[i.id]={x:c.x,y:c.y},r.stopPropagation(),r.preventDefault(),setTimeout(()=>{if(void 0!==n[i.id]){let t=!0;const r=Math.abs(n[i.id].x-s.x),c=Math.abs(n[i.id].y-s.y);r>e.movementThreshold&&(t=!1),c>e.movementThreshold&&(t=!1),delete n[i.id],t&&e.action(o,i)}},e.time)}}(r.item,i,o)}function l(){o(r.item.id)}function a(e){const i=t.normalizePointerEvent(e);s.x=i.x,s.y=i.y}return i.addEventListener("mousedown",c),i.addEventListener("touchstart",c),document.addEventListener("mouseup",l),document.addEventListener("touchend",l),document.addEventListener("mousemove",a),document.addEventListener("touchmove",a),{update(e,t){r=t},destroy(e,t){document.removeEventListener("mouseup",o),document.removeEventListener("mousemove",a),e.removeEventListener("mousedown",c),document.removeEventListener("touchend",o),document.removeEventListener("touchmove",a),e.removeEventListener("touchstart",c)}}}return function(e){t=e.api,e.state.update("config.actions.chart-timeline-items-row-item",e=>(e.push(r),e))}},ItemMovement:function(t={}){const i={moveable:!0,resizable:!0,resizerContent:"",collisionDetection:!0,outOfBorders:!1,snapStart:(e,t)=>e+t,snapEnd:(e,t)=>e+t,ghostNode:!0,wait:0};t=Object.assign(Object.assign({},i),t);const n={};function s(i,s){if(!t.moveable&&!t.resizable)return;const o=s.state,r=s.api;function c(e){let i=t.resizable&&(!e.item.hasOwnProperty("resizable")||!0===e.item.resizable);return e.row.hasOwnProperty("resizable")&&i&&(i=e.row.resizable),i}function l(e){const t=e.item.id;return void 0===n[t]&&(n[t]={moving:!1,resizing:!1,waiting:!1}),n[t]}function a(e,t){o.update("config.plugin.ItemMovement.item",Object.assign({id:e},t)),o.update("config.plugin.ItemMovement.movement",e=>(e||(e={moving:!1,waiting:!1,resizing:!1}),e.moving=t.moving,e.waiting=t.waiting,e.resizing=t.resizing,e))}function m(e,n){if(t.ghostNode){const t=l(e),s=n.clientX-t.ganttLeft;t.ghost.style.left=s+"px",t.ghost.style.top=n.clientY-t.ganttTop-t.itemTop+parseInt(getComputedStyle(i)["margin-top"])+"px",a(e.item.id,t)}}function d(e){t.ghostNode&&void 0!==n[e]&&void 0!==n[e].ghost&&(o.get("_internal.elements.chart-timeline").removeChild(n[e].ghost),delete n[e].ghost,a(s.item.id,n[e]))}function h(e){let i=t.snapStart;return"function"==typeof e.item.snapStart&&(i=e.item.snapStart),i}function u(e){let i=t.snapEnd;return"function"==typeof e.item.snapEnd&&(i=e.item.snapEnd),i}const g=`<div class="${r.getClass("chart-timeline-items-row-item-resizer")}">${t.resizerContent}</div>`;i.insertAdjacentHTML("beforeend",g);const v=i.querySelector(".gantt-schedule-timeline-calendar__chart-timeline-items-row-item-resizer");function f(e){const n=r.normalizePointerEvent(e);if(("pointerdown"===e.type||"mousedown"===e.type)&&0!==e.button)return;const c=l(s);c.waiting=!0,a(s.item.id,c),setTimeout(()=>{if(e.stopPropagation(),e.preventDefault(),!c.waiting)return;c.moving=!0;const r=o.get(`config.chart.items.${s.item.id}`),m=o.get("_internal.chart.time.leftGlobal"),d=o.get("_internal.chart.time.timePerPixel"),h=o.get("_internal.elements.chart-timeline").getBoundingClientRect();c.ganttTop=h.top,c.ganttLeft=h.left,c.itemX=Math.round((r.time.start-m)/d),a(s.item.id,c),function(e,n,s,r){const c=l(e);if(!t.ghostNode||void 0!==c.ghost)return;const m=i.cloneNode(!0),d=getComputedStyle(i);m.style.position="absolute",m.style.left=n.clientX-s+"px";const h=n.clientY-r-i.offsetTop+parseInt(d["margin-top"]);c.itemTop=h,m.style.top=n.clientY-r-h+"px",m.style.width=d.width,m.style["box-shadow"]="10px 10px 6px #00000020";const u=i.clientHeight+"px";m.style.height=u,m.style["line-height"]=i.clientHeight-18+"px",m.style.opacity="0.6",m.style.transform="scale(1.05, 1.05)",o.get("_internal.elements.chart-timeline").appendChild(m),c.ghost=m,a(e.item.id,c)}(s,n,h.left,h.top)},t.wait)}function p(e){if(e.stopPropagation(),e.preventDefault(),("pointerdown"===e.type||"mousedown"===e.type)&&0!==e.button)return;r.normalizePointerEvent(e);const t=l(s);t.resizing=!0;const i=o.get(`config.chart.items.${s.item.id}`),n=o.get("_internal.chart.time.leftGlobal"),c=o.get("_internal.chart.time.timePerPixel"),m=o.get("_internal.elements.chart-timeline").getBoundingClientRect();t.ganttTop=m.top,t.ganttLeft=m.left,t.itemX=(i.time.end-n)/c,a(s.item.id,t)}function w(e,i,n,s){if(!t.collisionDetection)return!1;const c=o.get("_internal.chart.time");if(t.outOfBorders&&(n<c.from||s>c.to))return!0;let l=r.time.date(s).diff(n,"milliseconds");if(-1===Math.sign(l)&&(l=-l),l<=1)return!0;const a=o.get("config.list.rows."+e);for(const e of a._internal.items)if(e.id!==i){if(n>=e.time.start&&n<=e.time.end)return!0;if(s>=e.time.start&&s<=e.time.end)return!0;if(n<=e.time.start&&s>=e.time.end)return!0}return!1}function b(e){const i=l(s),n=r.normalizePointerEvent(e);let a,d,g,v,f;(i.moving||i.resizing)&&(e.stopPropagation(),e.preventDefault(),a=o.get(`config.chart.items.${s.item.id}`),d=o.get(`config.chart.items.${s.item.id}.rowId`),g=o.get(`config.list.rows.${d}`),v=o.get("_internal.chart.time.zoom"),f=o.get("_internal.chart.time.timePerPixel"));const p=function(e){let i=t.moveable;return e.item.hasOwnProperty("moveable")&&i&&(i=e.item.moveable),e.row.hasOwnProperty("moveable")&&i&&(i=e.row.moveable),i}(s);if(i.moving){if((!0===p||"x"===p||Array.isArray(p)&&p.includes(d))&&function(e,t,i,n,r){const c=l(s),a=e.clientX-c.ganttLeft;m(s,e);const d=o.get("_internal.chart.time.leftGlobal")+a*r-i.time.start,g=i.time.start,v=h(s)(i.time.start,d,i)-g,f=w(t.id,i.id,i.time.start+v,i.time.end+v);v&&!f&&o.update(`config.chart.items.${s.item.id}.time`,(function(e){return e.start+=v,e.end=u(s)(e.end,v,i)-1,e}))}(n,g,a,0,f),!p||"x"===p)return;let e=function(e,t,i,n,r){m(s,e);const c=l(s),a=e.clientY-c.ganttTop,d=o.get("_internal.list.visibleRows");let h=0;for(const e of d){if(e.top>a)return h>0?h-1:0;h++}return h}(n);const t=o.get("_internal.list.visibleRows");void 0===t[e]&&(e>0?e=t.length-1:e<0&&(e=0));const i=t[e],r=i.id,c=w(r,a.id,a.time.start,a.time.end);r===a.rowId||c||Array.isArray(p)&&!p.includes(r)||i.hasOwnProperty("moveable")&&!i.moveable||o.update(`config.chart.items.${a.id}.rowId`,r)}else!i.resizing||void 0!==a.resizable&&!0!==a.resizable||function(e,t,i,n,r){if(!c(s))return;const a=o.get("_internal.chart.time"),m=l(s),d=e.clientX-m.ganttLeft,g=a.leftGlobal+d*r-i.time.end;if(i.time.end+g<i.time.start)return;const v=i.time.end,f=u(s)(i.time.end,g,i)-1-v,p=w(t.id,i.id,i.time.start,i.time.end+f);f&&!p&&o.update(`config.chart.items.${s.item.id}.time`,e=>(e.start=h(s)(e.start,0,i),e.end=u(s)(e.end,f,i)-1,e))}(n,g,a,0,f)}function y(e){const t=l(s);if(t.moving||t.resizing||t.waiting){e.stopPropagation(),e.preventDefault(),t.moving=!1,t.waiting=!1,t.resizing=!1,a(s.item.id,t);for(const e in n)n[e].moving=!1,n[e].resizing=!1,n[e].waiting=!1,d(e)}}return c(s)?v.style.visibility="visible":v.style.visibility="hidden",e?(i.addEventListener("pointerdown",f),v.addEventListener("pointerdown",p),document.addEventListener("pointermove",b),document.addEventListener("pointerup",y)):(i.addEventListener("touchstart",f),v.addEventListener("touchstart",p),document.addEventListener("touchmove",b),document.addEventListener("touchend",y),document.addEventListener("touchcancel",y),i.addEventListener("mousedown",f),v.addEventListener("mousedown",p),document.addEventListener("mousemove",b),document.addEventListener("mouseup",y)),{update(e,t){c(t)||"visible"!==v.style.visibility?c(t)&&"hidden"===v.style.visibility&&(v.style.visibility="visible"):v.style.visibility="hidden",s=t},destroy(t,n){e?(i.removeEventListener("pointerdown",f),v.removeEventListener("pointerdown",p),document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",y)):(i.removeEventListener("mousedown",f),v.removeEventListener("mousedown",p),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",y),i.removeEventListener("touchstart",f),v.removeEventListener("touchstart",p),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",y),document.removeEventListener("touchcancel",y)),v.remove()}}}return function(e){e.state.update("config.actions.chart-timeline-items-row-item",e=>(e.push(s),e))}},Selection:function(e={}){let t,n,s,o;const r="config.plugin.selection",c="gantt-schedule-timeline-caledar__plugin-selection-rect",l=document.createElement("div");l.classList.add(c),l.style.visibility="hidden",l.style.left="0px",l.style.top="0px",l.style.width="0px",l.style.height="0px",l.style.background="rgba(0, 119, 192, 0.2)",l.style.border="2px dashed rgba(0, 119, 192, 0.75)",l.style.position="absolute",l.style["user-select"]="none",l.style["pointer-events"]="none";const a={grid:!1,items:!0,rows:!1,horizontal:!0,vertical:!0,rectStyle:{},selecting(){},deselecting(){},selected(){},deselected(){},canSelect:(e,t,i)=>t,canDeselect:(e,t,i)=>[],getApi(){}};e=Object.assign(Object.assign({},a),e);for(const t in e.rectStyle)l.style[t]=e.rectStyle[t];const m={fromX:-1,fromY:-1,toX:-1,toY:-1,startX:-1,startY:-1,startCell:!1,selecting:!1},d={"chart-timeline-grid-row":e=>e.row.id,"chart-timeline-grid-row-block":e=>e.id,"chart-timeline-items-row":e=>e.row.id,"chart-timeline-items-row-item":e=>e.item.id};function h(e,t=!1){t?n.update(`${r}.selecting`,t=>{for(const i in t)e[i].forEach(e=>{t[i].includes()||t[i].push(e)});return t}):n.update(`${r}.selecting`,e),n.update("config.chart.items",(function(t){const i=e["chart-timeline-items-row-items"];for(const e in t){const n=t[e];i.includes(n.id)?n.selecting=!0:n.selecting=!1}return t}),{only:["selecting"]}),n.update("_internal.chart.grid.rowsWithBlocks",(function(t){const i=e["chart-timeline-grid-row-blocks"],n=e["chart-timeline-grid-rows"];if(t)for(const e of t){n.includes(e.id)?e.selecting=!0:e.selecting=!1;for(const t of e.blocks)i.includes(t.id)?t.selecting=!0:t.selecting=!1}return t}))}function u(t=!1,i=!1){let s;i?n.update(r,e=>(s={selecting:{"chart-timeline-grid-rows":[],"chart-timeline-grid-row-blocks":[],"chart-timeline-items-rows":[],"chart-timeline-items-row-items":[]},selected:e.selected},s)):(n.update(r,i=>(s={selecting:{"chart-timeline-grid-rows":[],"chart-timeline-grid-row-blocks":[],"chart-timeline-items-rows":[],"chart-timeline-items-row-items":[]},selected:{"chart-timeline-grid-rows":t?[]:e.canDeselect("chart-timeline-grid-rows",i.selected["chart-timeline-grid-rows"],i),"chart-timeline-grid-row-blocks":t?[]:e.canDeselect("chart-timeline-grid-row-blocks",i.selected["chart-timeline-grid-row-blocks"],i),"chart-timeline-items-rows":t?[]:e.canDeselect("chart-timeline-items-rows",i.selected["chart-timeline-items-rows"],i),"chart-timeline-items-row-items":t?[]:e.canDeselect("chart-timeline-items-row-items",i.selected["chart-timeline-items-row-items"],i)}},s)),n.update("_internal.chart.grid.rowsWithBlocks",(function(e){if(e)for(const t of e)for(const e of t.blocks)e.selected=s.selected["chart-timeline-grid-row-blocks"].includes(e.id),e.selecting=!1;return e})),n.update("config.chart.items",e=>{if(e)for(const t in e){const i=e[t];i.selected=s.selected["chart-timeline-items-row-items"].includes(t),i.selecting=!1}return e}))}let g;function v(t=!1){m.selecting=!1,l.style.visibility="hidden";const i=f(n.get(r)),s={};t?n.update(r,e=>{const t=Object.assign({},e.selecting);for(const i in e.selected)for(const n of t[i])e.selected[i].includes(n)||e.selected[i].push(n);return s.selected=Object.assign({},e.selected),s.selecting={"chart-timeline-grid-rows":[],"chart-timeline-grid-row-blocks":[],"chart-timeline-items-rows":[],"chart-timeline-items-row-items":[]},s}):n.update(r,e=>(s.selected=Object.assign({},e.selecting),s.selecting={"chart-timeline-grid-rows":[],"chart-timeline-grid-row-blocks":[],"chart-timeline-items-rows":[],"chart-timeline-items-row-items":[]},s));const o=n.get("_internal.elements");for(const t in d)if(o[t+"s"])for(const n of o[t+"s"])i.selecting[t+"s"].includes(n.vido.id)&&e.deselecting(n.vido,t);n.update("config.chart.items",(function(n){for(const s in n){const o=n[s];i.selecting["chart-timeline-items-row-items"].includes(o.id)?(o.selected=!0,void 0!==o.selected&&o.selected||e.selected(o,"chart-timeline-items-row-item")):t&&g.selected["chart-timeline-items-row-items"].includes(o.id)?o.selected=!0:(o.selected=!1,i.selected["chart-timeline-items-row-items"].includes(o.id)&&e.deselected(o,"chart-timeline-items-row-item"))}return n})),n.update("_internal.chart.grid.rowsWithBlocks",(function(n){if(n)for(const s of n)for(const n of s.blocks)i.selecting["chart-timeline-grid-row-blocks"].includes(n.id)?(void 0!==n.selected&&n.selected||e.selected(n,"chart-timeline-grid-row-block"),n.selected=!0):t&&g.selected["chart-timeline-grid-row-blocks"].includes(n.id)?n.selected=!0:(i.selected["chart-timeline-grid-row-blocks"].includes(n.id)&&e.deselected(n,"chart-timeline-grid-row-block"),n.selected=!1);return n}))}function f(e){const t={};return t.selecting=Object.assign({},e.selecting),t.selecting["chart-timeline-grid-rows"]=e.selecting["chart-timeline-grid-rows"].slice(),t.selecting["chart-timeline-grid-row-blocks"]=e.selecting["chart-timeline-grid-row-blocks"].slice(),t.selecting["chart-timeline-items-rows"]=e.selecting["chart-timeline-items-rows"].slice(),t.selecting["chart-timeline-items-row-items"]=e.selecting["chart-timeline-items-row-items"].slice(),t.selected=Object.assign({},e.selected),t.selected["chart-timeline-grid-rows"]=e.selected["chart-timeline-grid-rows"].slice(),t.selected["chart-timeline-grid-row-blocks"]=e.selected["chart-timeline-grid-row-blocks"].slice(),t.selected["chart-timeline-items-rows"]=e.selected["chart-timeline-items-rows"].slice(),t.selected["chart-timeline-items-row-items"]=e.selected["chart-timeline-items-row-items"].slice(),t}class p extends i{constructor(i,s){super();const o={};o.clearSelection=u,this.unsub=s.state.subscribeAll(["_internal.elements.chart-timeline","_internal.chart.dimensions.width"],e=>{const t=n.get("_internal.elements.chart-timeline");if(void 0===t)return;this.chartTimeline=t,this.chartTimeline.querySelector("."+c)||this.chartTimeline.insertAdjacentElement("beforeend",l);const i=this.chartTimeline.getBoundingClientRect();this.left=i.left,this.top=i.top});const a=e=>{const i=t.api.normalizePointerEvent(e),n=i.x-this.left,s=i.y-this.top;n<=m.startX?(m.fromX=n,m.toX=m.startX):(m.fromX=m.startX,m.toX=n),s<=m.startY?(m.fromY=s,m.toY=m.startY):(m.fromY=m.startY,m.toY=s)},p=(e,t)=>{let i=!1,n=!1;return(e.left>t.left&&e.left<t.right||e.right>t.left&&e.right<t.right||e.left<=t.left&&e.right>=t.right)&&(i=!0),(e.top>t.top&&e.top<t.bottom||e.bottom>t.top&&e.bottom<t.bottom||e.top<=t.top&&e.bottom>=t.bottom)&&(n=!0),i&&n};function w(t,i,s,o){const c=[],l=[],a=i[s+"s"];if(!a)return[];const m=n.get(r),d=m.selecting[s+"s"];for(const i of a){const n=i.getBoundingClientRect();if(p(n,t)){l.push(i.vido),e.canSelect(s,l,m).includes(i.vido)?(d.includes(o(i.vido))||e.selecting(i.vido,s),c.push(o(i.vido))):l.unshift()}else d.includes(o(i.vido))&&e.deselecting(i.vido,s)}return c}const b=e=>{if(m.selecting){{e.stopPropagation(),e.preventDefault();const i=t.api.normalizePointerEvent(e);if(m.startX===i.x-this.left&&m.startY===i.y-this.top)return m.selecting=!1,void(l.style.visibility="hidden")}v(e.ctrlKey)}else{const t=".gantt-schedule-timeline-calendar__chart-timeline-items-row-item";!!e.target.closest(t)?v(e.ctrlKey):e.ctrlKey||u()}};this.mouseDown=e=>{const i=n.get("config.plugin.ItemMovement.movement"),s=i&&i.moving;if("mousedown"===e.type&&0!==e.button||s)return;const o=t.api.normalizePointerEvent(e);m.selecting=!0,m.fromX=o.x-this.left,m.fromY=o.y-this.top,m.startX=m.fromX,m.startY=m.fromY,g=f(n.get(r));!!e.target.closest(".gantt-schedule-timeline-calendar__chart-timeline-items-row-item")||e.ctrlKey||u()},this.mouseMove=e=>{!function(e,t=!1){const i=n.get("config.plugin.ItemMovement.movement"),s=i&&(i.moving||i.waiting);if(!m.selecting||s)return void(s&&(m.selecting=!1));u(!1,!0),a(e),l.style.left=m.fromX+"px",l.style.top=m.fromY+"px",l.style.width=m.toX-m.fromX+"px",l.style.height=m.toY-m.fromY+"px",t||(l.style.visibility="visible");const o=l.getBoundingClientRect(),r=n.get("_internal.elements"),c={};for(const e in d)c[e+"s"]=w(o,r,e,d[e]);h(c,e.ctrlKey)}(e)},this.mouseUp=e=>{m.selecting&&b(e)},i.addEventListener("mousedown",this.mouseDown),i.addEventListener("touchstart",this.mouseDown),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("touchmove",this.mouseMove),document.addEventListener("mouseup",this.mouseUp),document.addEventListener("touchend",this.mouseUp),e.getApi(o)}destroy(e){document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("touchend",this.mouseUp),document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("touchmove",this.mouseMove),e.removeEventListener("mousedown",this.mouseDown),e.removeEventListener("touchstart",this.mouseDown),this.unsub()}}function w(e,t,i,n,s){t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n),i&&!e.classList.contains(s)?e.classList.add(s):!i&&e.classList.contains(s)&&e.classList.remove(s)}class b extends i{constructor(e,t){super(),this.classNameSelecting=s.getClass("chart-timeline-grid-row-block")+"--selecting",this.classNameSelected=s.getClass("chart-timeline-grid-row-block")+"--selected",w(e,t.selecting,t.selected,this.classNameSelecting,this.classNameSelected)}update(e,t){w(e,t.selecting,t.selected,this.classNameSelecting,this.classNameSelected)}destroy(e,t){e.classList.remove(this.classNameSelecting),e.classList.remove(this.classNameSelected)}}class y extends i{constructor(e,t){super(),this.data=t,this.element=e,this.classNameSelecting=s.getClass("chart-timeline-items-row-item")+"--selecting",this.classNameSelected=s.getClass("chart-timeline-items-row-item")+"--selected",this.data=t,this.element=e,this.onPointerDown=this.onPointerDown.bind(this),e.addEventListener("mousedown",this.onPointerDown),e.addEventListener("touchstart",this.onPointerDown),w(e,t.item.selecting,t.item.selected,this.classNameSelecting,this.classNameSelected)}onPointerDown(e){g=f(n.get(r)),m.selecting=!0,this.data.item.selected=!0;const t={"chart-timeline-grid-rows":[],"chart-timeline-grid-row-blocks":[],"chart-timeline-items-rows":[],"chart-timeline-items-row-items":[]};t["chart-timeline-items-row-items"].push(this.data.item.id),h(t),v(e.ctrlKey),w(this.element,this.data.item.selecting,this.data.item.selected,this.classNameSelecting,this.classNameSelected)}update(e,t){w(e,t.item.selecting,t.item.selected,this.classNameSelecting,this.classNameSelected),this.data=t}destroy(e,t){e.classList.remove(this.classNameSelecting),e.classList.remove(this.classNameSelected),e.removeEventListener("mousedown",this.onPointerDown),e.removeEventListener("touchstart",this.onPointerDown)}}function L(e){const t=n.get("config.plugin.selection.selected.chart-timeline-grid-row-blocks");for(const i of t)if(i===e.id)return e.selected=!0,e;return e.selected=!1,e.selecting=!1,e}return function(e){t=e,n=t.state,s=t.api,o=t.schedule,void 0===n.get(r)&&n.update(r,{selecting:{"chart-timeline-grid-rows":[],"chart-timeline-grid-row-blocks":[],"chart-timeline-items-rows":[],"chart-timeline-items-row-items":[]},selected:{"chart-timeline-grid-rows":[],"chart-timeline-grid-row-blocks":[],"chart-timeline-items-rows":[],"chart-timeline-items-row-items":[]}}),n.update("config.chart.items",e=>{if(e)for(const t in e){const i=e[t];void 0===i.selecting&&(i.selecting=!1),void 0===i.selected&&(i.selected=!1)}return e}),n.update("config.actions.chart-timeline",e=>(e.push(p),e)),n.update("config.actions.chart-timeline-grid-row-block",e=>(e.push(b),e)),n.update("config.actions.chart-timeline-items-row-item",e=>(e.push(y),e)),n.update("config.chart.grid.block.onCreate",e=>(e.push(L),e))}},CalendarScroll:function(e=n){let t,i,s,o=e.enabled;class r{constructor(e){this.moving=!1,this.initialDataIndex={x:0,y:0},this.pointerDown=this.pointerDown.bind(this),this.pointerUp=this.pointerUp.bind(this),this.pointerMove=t.schedule(this.pointerMove.bind(this)),e.addEventListener("pointerdown",this.pointerDown),document.addEventListener("pointermove",this.pointerMove,{passive:!0}),document.addEventListener("pointerup",this.pointerUp),e.style.cursor="grab"}destroy(e){e.removeEventListener("pointerdown",this.pointerDown),document.removeEventListener("pointermove",this.pointerMove),document.removeEventListener("pointerup",this.pointerUp)}pointerDown(e){if(!o)return;this.moving=!0,this.initialPoint={x:e.screenX,y:e.screenY};const t=s.get("config.scroll");this.initialDataIndex={x:t.horizontal.dataIndex||0,y:t.vertical.dataIndex||0}}pointerUp(e){o&&this.moving&&(this.moving=!1)}handleHorizontalMovement(e,t){const n=s.get("_internal.chart.time");if(e.x>0){if(0===this.initialDataIndex.x)return;const t=n.allDates[n.level];let s=this.initialDataIndex.x-1,o=0;for(;s>0;s--){if(o+=t[s].width,o>=e.x)break}i.scrollToTime(t[s].leftGlobal,!1)}else if(e.x<0){const t=n.allDates[n.level];let s=this.initialDataIndex.x,o=0;for(let i=t.length;s<i;s++){if(o+=t[s].width,-o<=e.x)break}i.scrollToTime(t[s].leftGlobal,!1)}}pointerMove(e){if(!o||!this.moving)return;const t={x:e.screenX-this.initialPoint.x,y:e.screenY-this.initialPoint.y};this.handleHorizontalMovement(t,e)}}return function(n){t=n,i=t.api,s=t.state,s.update("config.plugin.CalendarScroll",e),s.subscribe("config.plugin.CalendarScroll.enabled",e=>o=e),s.update("config.actions.chart-calendar",e=>(e.push(r),e))}},WeekendHighlight:function(e={}){const t=e.weekdays||[6,0];let n,s,o=!0;class r extends i{constructor(e,t){super(),this.highlight(e,t.time.leftGlobal)}update(e,t){this.highlight(e,t.time.leftGlobal)}highlight(e,i){const r=e.classList.contains(n);if(!o)return void(r&&e.classList.remove(n));const c=t.includes(s.time.date(i).day());!r&&c?e.classList.add(n):r&&!c&&e.classList.remove(n)}}return function(t){s=t.api,n=e.className||s.getClass("chart-timeline-grid-row-block")+"--weekend";const i=t.state.subscribe("_internal.chart.time.format.period",e=>o="day"===e);return t.state.update("config.actions.chart-timeline-grid-row-block",e=>(e.push(r),e)),function(){i()}}}};export default s;
