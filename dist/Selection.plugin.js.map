{"version":3,"file":"Selection.plugin.js","sources":["../node_modules/raf-schd/dist/raf-schd.esm.js","../src/plugins/Selection.plugin.js"],"sourcesContent":["var rafSchd = function rafSchd(fn) {\n  var lastArgs = [];\n  var frameId = null;\n\n  var wrapperFn = function wrapperFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      fn.apply(void 0, lastArgs);\n    });\n  };\n\n  wrapperFn.cancel = function () {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n\nexport default rafSchd;\n","/**\n * Selection plugin\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   GPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n\nimport schedule from 'raf-schd';\nexport default function Selection(options = {}) {\n  let vido, state, api;\n  const defaultOptions = {\n    style: {},\n    grid: false,\n    items: true,\n    rows: false,\n    horizontal: true,\n    vertical: true,\n    selected() {},\n    deselected() {}\n  };\n  options = { ...options, ...defaultOptions };\n  let chartTimeline, top, left;\n  let selecting = { fromX: -1, fromY: -1, toX: -1, toY: -1, startX: -1, startY: -1, selecting: false };\n  const path = 'config.plugin.selection';\n  const rectClassName = 'gantt-schedule-timeline-caledar__plugin-selection-rect';\n  const rect = document.createElement('div');\n  rect.classList.add(rectClassName);\n  rect.style.visibility = 'hidden';\n  rect.style.left = '0px';\n  rect.style.top = '0px';\n  rect.style.width = '0px';\n  rect.style.height = '0px';\n  rect.style.background = 'rgba(0, 119, 192, 0.2)';\n  rect.style.border = '2px dashed rgba(0, 119, 192, 0.75)';\n  rect.style.position = 'absolute';\n  rect.style['user-select'] = 'none';\n  rect.style['pointer-events'] = 'none';\n  for (const styleProp in options.style) {\n    rect.style[styleProp] = options.style[styleProp];\n  }\n\n  function rectSelectionAction(element, data) {\n    chartTimeline = state.get('_internal.elements.chart-timeline');\n    if (!chartTimeline.querySelector('.' + rectClassName)) {\n      chartTimeline.insertAdjacentElement('beforeend', rect);\n      const bounding = chartTimeline.getBoundingClientRect();\n      left = bounding.left;\n      top = bounding.top;\n    }\n\n    /**\n     * Clear selection\n     */\n    function clearSelection() {\n      state.update(path, {\n        selecting: {\n          'chart-timeline-grid-rows': [],\n          'chart-timeline-grid-row-blocks': [],\n          'chart-timeline-items-rows': [],\n          'chart-timeline-items-row-items': []\n        },\n        selcted: {\n          'chart-timeline-grid-rows': [],\n          'chart-timeline-grid-row-blocks': [],\n          'chart-timeline-items-rows': [],\n          'chart-timeline-items-row-items': []\n        }\n      });\n      state.update('_internal.chart.grid.rowsWithBlocks', rowsWithBlocks => {\n        for (const row of rowsWithBlocks) {\n          for (const block of row.blocks) {\n            block.selected = false;\n            block.selecting = false;\n          }\n        }\n        return rowsWithBlocks;\n      });\n    }\n\n    /**\n     * Mouse down event handler\n     * @param {MouseEvent} ev\n     */\n    function mouseDown(ev) {\n      if (ev.button !== 0) {\n        return;\n      }\n      selecting.selecting = true;\n      selecting.fromX = ev.x - left;\n      selecting.fromY = ev.y - top;\n      selecting.startX = selecting.fromX;\n      selecting.startY = selecting.fromY;\n      clearSelection();\n      vido.update();\n    }\n\n    /**\n     * Save and swap coordinates if needed\n     * @param {MouseEvent} ev\n     */\n    function saveAndSwapIfNeeded(ev) {\n      const currentX = ev.x - left;\n      const currentY = ev.y - top;\n      if (currentX <= selecting.startX) {\n        selecting.fromX = currentX;\n        selecting.toX = selecting.startX;\n      } else {\n        selecting.fromX = selecting.startX;\n        selecting.toX = currentX;\n      }\n      if (currentY <= selecting.startY) {\n        selecting.fromY = currentY;\n        selecting.toY = selecting.startY;\n      } else {\n        selecting.fromY = selecting.startY;\n        selecting.toY = currentY;\n      }\n    }\n\n    /**\n     * Is rectangle inside other rectangle ?\n     * @param {DOMRect} boundingRect\n     * @param {DOMRect} rectBoundingRect\n     * @returns {boolean}\n     */\n    function isInside(boundingRect, rectBoundingRect) {\n      let horizontal = false;\n      let vertical = false;\n      if (\n        (boundingRect.left >= rectBoundingRect.left && boundingRect.left <= rectBoundingRect.right) ||\n        (boundingRect.right >= rectBoundingRect.left && boundingRect.right <= rectBoundingRect.right) ||\n        (boundingRect.left <= rectBoundingRect.left && boundingRect.right >= rectBoundingRect.right)\n      ) {\n        horizontal = true;\n      }\n      if (\n        (boundingRect.top >= rectBoundingRect.top && boundingRect.top <= rectBoundingRect.bottom) ||\n        (boundingRect.bottom >= rectBoundingRect.top && boundingRect.bottom <= rectBoundingRect.bottom) ||\n        (boundingRect.top <= rectBoundingRect.top && boundingRect.bottom >= rectBoundingRect.bottom)\n      ) {\n        vertical = true;\n      }\n      return horizontal && vertical;\n    }\n\n    /**\n     * Get selecting elements\n     * @param {DOMRect} rectBoundingRect\n     * @param {Element[]} elements\n     * @param {string} type\n     * @returns {Element[]}\n     */\n    function getSelecting(rectBoundingRect, elements, type) {\n      const selectingResult = [];\n      const all = elements[type + 's'];\n      for (const element of all) {\n        const boundingRect = element.getBoundingClientRect();\n        if (isInside(boundingRect, rectBoundingRect)) {\n          selectingResult.push(element.vido.id);\n        }\n      }\n      const currentSelecting = state.get(`${path}.selecting.${type}s`);\n      for (const id of currentSelecting) {\n        if (!selectingResult.includes(id)) {\n        }\n      }\n      return selectingResult;\n    }\n\n    /**\n     * Mouse move event handler\n     * @param {MouseEvent} ev\n     */\n    function mouseMove(ev) {\n      if (!selecting.selecting) {\n        return;\n      }\n      if (ev.x - left === selecting.fromX || ev.y - top === selecting.fromY) {\n        return;\n      }\n      ev.stopPropagation();\n      saveAndSwapIfNeeded(ev);\n      rect.style.left = selecting.fromX + 'px';\n      rect.style.top = selecting.fromY + 'px';\n      rect.style.visibility = 'visible';\n      rect.style.width = selecting.toX - selecting.fromX + 'px';\n      rect.style.height = selecting.toY - selecting.fromY + 'px';\n      const rectBoundingRect = rect.getBoundingClientRect();\n      const elements = state.get('_internal.elements');\n      const selectingGridRowBlocks = getSelecting(rectBoundingRect, elements, 'chart-timeline-grid-row-block');\n      state.update(`${path}.selecting`, {\n        'chart-timeline-grid-rows': [],\n        'chart-timeline-grid-row-blocks': selectingGridRowBlocks,\n        'chart-timeline-items-rows': [],\n        'chart-timeline-items-row-items': []\n      });\n      state.update('_internal.chart.grid.rowsWithBlocks', rowsWithBlocks => {\n        for (const row of rowsWithBlocks) {\n          for (const block of row.blocks) {\n            // @ts-ignore\n            if (selectingGridRowBlocks.includes(block.id)) {\n              block.selecting = true;\n            } else {\n              block.selecting = false;\n            }\n          }\n        }\n        return rowsWithBlocks;\n      });\n    }\n\n    /**\n     * Mouse up event handler\n     * @param {MouseEvent} ev\n     */\n    function mouseUp(ev) {\n      if (selecting.selecting) {\n        ev.stopPropagation();\n      } else {\n        return;\n      }\n      selecting.selecting = false;\n      rect.style.visibility = 'hidden';\n      const select = {};\n      state.update(path, value => {\n        select.selected = { ...value.selecting };\n        select.selecting = {\n          'chart-timeline-grid-rows': [],\n          'chart-timeline-grid-row-blocks': [],\n          'chart-timeline-items-rows': [],\n          'chart-timeline-items-row-items': []\n        };\n        return select;\n      });\n      const currentSelected = select.selected;\n      state.update('_internal.chart.grid.rowsWithBlocks', rowsWithBlocks => {\n        for (const row of rowsWithBlocks) {\n          for (const block of row.blocks) {\n            if (currentSelected['chart-timeline-grid-row-blocks'].includes(block.id)) {\n              block.selected = true;\n            } else {\n              block.selected = false;\n            }\n          }\n        }\n        return rowsWithBlocks;\n      });\n    }\n\n    element.addEventListener('mousedown', mouseDown);\n    element.addEventListener('mousemove', schedule(mouseMove));\n    document.body.addEventListener('mouseup', mouseUp);\n    return {\n      destroy() {\n        document.body.removeEventListener('mouseup', mouseUp);\n        element.removeEventListener('mousemove', mouseMove);\n        element.removeEventListener('mousedown', mouseDown);\n      }\n    };\n  }\n\n  /**\n   * Grid row block action\n   * @param {Element} element\n   * @param {object} data\n   * @returns {object} with update and destroy functions\n   */\n  function gridBlockAction(element, data) {\n    const classNameSelecting = api.getClass('chart-timeline-grid-row-block') + '--selecting';\n    const classNameSelected = api.getClass('chart-timeline-grid-row-block') + '--selected';\n    if (data.selecting) {\n      element.classList.add(classNameSelecting);\n    } else {\n      element.classList.remove(classNameSelecting);\n    }\n    if (data.selected) {\n      element.classList.add(classNameSelected);\n    } else {\n      element.classList.remove(classNameSelected);\n    }\n    return {\n      update(element, data) {\n        if (data.selecting) {\n          element.classList.add(classNameSelecting);\n        } else {\n          element.classList.remove(classNameSelecting);\n        }\n        if (data.selected) {\n          element.classList.add(classNameSelected);\n        } else {\n          element.classList.remove(classNameSelected);\n        }\n      },\n      destroy(element, changedData) {\n        element.classList.remove(classNameSelecting);\n        element.classList.remove(classNameSelected);\n      }\n    };\n  }\n\n  /**\n   * On block create handler\n   * @param {object} block\n   * @returns {object} block\n   */\n  function onBlockCreate(block) {\n    const select = state.get('config.plugin.selection');\n    if (select.selected['chart-timeline-grid-row-blocks'].find(id => id === block.id)) {\n      block.selected = true;\n    } else {\n      block.selected = false;\n    }\n    return block;\n  }\n\n  return function initialize(mainVido) {\n    vido = mainVido;\n    state = vido.state;\n    api = vido.api;\n    if (typeof state.get(path) === 'undefined') {\n      state.update(path, {\n        selecting: {\n          'chart-timeline-grid-rows': [],\n          'chart-timeline-grid-row-blocks': [],\n          'chart-timeline-items-rows': [],\n          'chart-timeline-items-row-items': []\n        },\n        selected: {\n          'chart-timeline-grid-rows': [],\n          'chart-timeline-grid-row-blocks': [],\n          'chart-timeline-items-rows': [],\n          'chart-timeline-items-row-items': []\n        }\n      });\n    }\n    state.update('config.actions.chart-timeline', actions => {\n      actions.push(rectSelectionAction);\n      return actions;\n    });\n    state.update('config.actions.chart-timeline-grid-row-block', actions => {\n      actions.push(gridBlockAction);\n      return actions;\n    });\n    state.update('config.chart.grid.block.onCreate', onCreate => {\n      onCreate.push(onBlockCreate);\n      return onCreate;\n    });\n  };\n}\n"],"names":["rafSchd","fn","lastArgs","frameId","wrapperFn","_len","arguments","length","args","Array","_key","requestAnimationFrame","apply","cancel","cancelAnimationFrame","options","vido","state","api","defaultOptions","style","grid","items","rows","horizontal","vertical","[object Object]","chartTimeline","top","left","selecting","fromX","fromY","toX","toY","startX","startY","path","rectClassName","rect","document","createElement","classList","add","visibility","width","height","background","border","position","styleProp","rectSelectionAction","element","data","get","querySelector","insertAdjacentElement","bounding","getBoundingClientRect","mouseDown","ev","button","x","y","update","chart-timeline-grid-rows","chart-timeline-grid-row-blocks","chart-timeline-items-rows","chart-timeline-items-row-items","selcted","rowsWithBlocks","row","block","blocks","selected","isInside","boundingRect","rectBoundingRect","right","bottom","mouseMove","stopPropagation","currentX","currentY","saveAndSwapIfNeeded","selectingGridRowBlocks","elements","type","selectingResult","all","push","id","currentSelecting","getSelecting","includes","mouseUp","select","value","currentSelected","addEventListener","schedule","body","removeEventListener","gridBlockAction","classNameSelecting","getClass","classNameSelected","remove","changedData","onBlockCreate","find","mainVido","actions","onCreate"],"mappings":"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"}