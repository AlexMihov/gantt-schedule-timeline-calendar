{"version":3,"file":"Selection.plugin.js","sources":["../src/plugins/Selection.plugin.ts"],"sourcesContent":["/**\n * Selection plugin\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   GPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n\nexport interface RectStyle {\n  [key: string]: any;\n}\n\nexport interface Options {\n  grid?: boolean;\n  items?: boolean;\n  rows?: boolean;\n  horizontal?: boolean;\n  vertical?: boolean;\n  rectStyle?: RectStyle;\n  selecting?: (data, type: string) => void;\n  deselecting?: (data, type: string) => void;\n  selected?: (data, type) => void;\n  deselected?: (data, type) => void;\n}\n\nexport interface Items {\n  [key: string]: string[];\n}\n\ninterface SelectingData {\n  fromX?: number;\n  fromY?: number;\n  toX?: number;\n  toY?: number;\n  startX?: number;\n  startY?: number;\n  startCell?: any;\n  selecting?: boolean;\n  selected?: Items;\n}\n\nexport interface SelectState {\n  selecting?: Items;\n  selected?: Items;\n}\n\nexport default function Selection(options: Options = {}) {\n  let vido, state, api, schedule;\n  const defaultOptions: Options = {\n    grid: false,\n    items: true,\n    rows: false,\n    horizontal: true,\n    vertical: true,\n    rectStyle: {},\n    selecting() {},\n    deselecting() {},\n    selected() {},\n    deselected() {}\n  };\n  options = { ...defaultOptions, ...options } as Options;\n  let chartTimeline, top, left;\n  let selecting: SelectingData = {\n    fromX: -1,\n    fromY: -1,\n    toX: -1,\n    toY: -1,\n    startX: -1,\n    startY: -1,\n    startCell: false,\n    selecting: false\n  };\n  const selectionTypesIdGetters = {\n    'chart-timeline-grid-row': props => props.row.id,\n    'chart-timeline-grid-row-block': props => props.id,\n    'chart-timeline-items-row': props => props.row.id,\n    'chart-timeline-items-row-item': props => props.item.id\n  };\n  const path = 'config.plugin.selection';\n  const rectClassName = 'gantt-schedule-timeline-caledar__plugin-selection-rect';\n  const rect = document.createElement('div');\n  rect.classList.add(rectClassName);\n  rect.style.visibility = 'hidden';\n  rect.style.left = '0px';\n  rect.style.top = '0px';\n  rect.style.width = '0px';\n  rect.style.height = '0px';\n  rect.style.background = 'rgba(0, 119, 192, 0.2)';\n  rect.style.border = '2px dashed rgba(0, 119, 192, 0.75)';\n  rect.style.position = 'absolute';\n  rect.style['user-select'] = 'none';\n  rect.style['pointer-events'] = 'none';\n  for (const styleProp in options.rectStyle) {\n    rect.style[styleProp] = options.rectStyle[styleProp];\n  }\n\n  /**\n   * Selection action\n   * @param {Element} element\n   * @param {object|any} data\n   * @returns {object} with update and destroy\n   */\n  function selectionAction(element, data) {\n    let previousSelect;\n    chartTimeline = state.get('_internal.elements.chart-timeline');\n    if (!chartTimeline.querySelector('.' + rectClassName)) {\n      chartTimeline.insertAdjacentElement('beforeend', rect);\n      const bounding = chartTimeline.getBoundingClientRect();\n      left = bounding.left;\n      top = bounding.top;\n    }\n\n    /**\n     * Clear selection\n     */\n    function clearSelection() {\n      state.update(path, {\n        selecting: {\n          'chart-timeline-grid-rows': [],\n          'chart-timeline-grid-row-blocks': [],\n          'chart-timeline-items-rows': [],\n          'chart-timeline-items-row-items': []\n        },\n        selected: {\n          'chart-timeline-grid-rows': [],\n          'chart-timeline-grid-row-blocks': [],\n          'chart-timeline-items-rows': [],\n          'chart-timeline-items-row-items': []\n        }\n      });\n      state.update('_internal.chart.grid.rowsWithBlocks', function clearRowsWithBlocks(rowsWithBlocks) {\n        for (const row of rowsWithBlocks) {\n          for (const block of row.blocks) {\n            block.selected = false;\n            block.selecting = false;\n          }\n        }\n        return rowsWithBlocks;\n      });\n    }\n\n    /**\n     * Clone current selection state\n     * @param {object} currentSelect\n     * @returns {object} currentSelect cloned\n     */\n    function cloneSelection(currentSelect) {\n      const result: SelectingData = {};\n      result.selecting = { ...currentSelect.selecting };\n      result.selecting['chart-timeline-grid-rows'] = currentSelect.selecting['chart-timeline-grid-rows'].slice();\n      result.selecting['chart-timeline-grid-row-blocks'] = currentSelect.selecting[\n        'chart-timeline-grid-row-blocks'\n      ].slice();\n      result.selecting['chart-timeline-items-rows'] = currentSelect.selecting['chart-timeline-items-rows'].slice();\n      result.selecting['chart-timeline-items-row-items'] = currentSelect.selecting[\n        'chart-timeline-items-row-items'\n      ].slice();\n      result.selected = { ...currentSelect.selected };\n      result.selected['chart-timeline-grid-rows'] = currentSelect.selected['chart-timeline-grid-rows'].slice();\n      result.selected['chart-timeline-grid-row-blocks'] = currentSelect.selected[\n        'chart-timeline-grid-row-blocks'\n      ].slice();\n      result.selected['chart-timeline-items-rows'] = currentSelect.selected['chart-timeline-items-rows'].slice();\n      result.selected['chart-timeline-items-row-items'] = currentSelect.selected[\n        'chart-timeline-items-row-items'\n      ].slice();\n      return result;\n    }\n\n    /**\n     * Save and swap coordinates if needed\n     * @param {Event} ev\n     */\n    function saveAndSwapIfNeeded(ev) {\n      // @ts-ignore\n      const currentX = ev.x - left;\n      // @ts-ignore\n      const currentY = ev.y - top;\n      if (currentX <= selecting.startX) {\n        selecting.fromX = currentX;\n        selecting.toX = selecting.startX;\n      } else {\n        selecting.fromX = selecting.startX;\n        selecting.toX = currentX;\n      }\n      if (currentY <= selecting.startY) {\n        selecting.fromY = currentY;\n        selecting.toY = selecting.startY;\n      } else {\n        selecting.fromY = selecting.startY;\n        selecting.toY = currentY;\n      }\n    }\n\n    /**\n     * Is rectangle inside other rectangle ?\n     * @param {DOMRect} boundingRect\n     * @param {DOMRect} rectBoundingRect\n     * @returns {boolean}\n     */\n    function isInside(boundingRect, rectBoundingRect) {\n      let horizontal = false;\n      let vertical = false;\n      if (\n        (boundingRect.left >= rectBoundingRect.left && boundingRect.left <= rectBoundingRect.right) ||\n        (boundingRect.right >= rectBoundingRect.left && boundingRect.right <= rectBoundingRect.right) ||\n        (boundingRect.left <= rectBoundingRect.left && boundingRect.right >= rectBoundingRect.right)\n      ) {\n        horizontal = true;\n      }\n      if (\n        (boundingRect.top >= rectBoundingRect.top && boundingRect.top <= rectBoundingRect.bottom) ||\n        (boundingRect.bottom >= rectBoundingRect.top && boundingRect.bottom <= rectBoundingRect.bottom) ||\n        (boundingRect.top <= rectBoundingRect.top && boundingRect.bottom >= rectBoundingRect.bottom)\n      ) {\n        vertical = true;\n      }\n      return horizontal && vertical;\n    }\n\n    /**\n     * Get selecting elements\n     * @param {DOMRect} rectBoundingRect\n     * @param {Element[]} elements\n     * @param {string} type\n     * @returns {string[]}\n     */\n    function getSelecting(rectBoundingRect, elements, type, getId) {\n      const selectingResult = [];\n      const all = elements[type + 's'];\n      const currentSelecting = state.get(`${path}.selecting.${type}s`);\n      for (const element of all) {\n        const boundingRect = element.getBoundingClientRect();\n        if (isInside(boundingRect, rectBoundingRect)) {\n          selectingResult.push(getId(element.vido));\n          if (!currentSelecting.includes(getId(element.vido))) {\n            options.selecting(element.vido, type);\n          }\n        } else {\n          if (currentSelecting.includes(getId(element.vido))) {\n            options.deselecting(element.vido, type);\n          }\n        }\n      }\n      return selectingResult;\n    }\n\n    /**\n     * Select\n     * @param {Event} ev\n     */\n    function select(ev) {\n      if (!selecting.selecting) {\n        return;\n      }\n      saveAndSwapIfNeeded(ev);\n      rect.style.left = selecting.fromX + 'px';\n      rect.style.top = selecting.fromY + 'px';\n      rect.style.visibility = 'visible';\n      rect.style.width = selecting.toX - selecting.fromX + 'px';\n      rect.style.height = selecting.toY - selecting.fromY + 'px';\n      const rectBoundingRect = rect.getBoundingClientRect();\n      const elements = state.get('_internal.elements');\n      const nowSelecting = {};\n      for (const type in selectionTypesIdGetters) {\n        nowSelecting[type + 's'] = getSelecting(rectBoundingRect, elements, type, selectionTypesIdGetters[type]);\n      }\n      state.update(`${path}.selecting`, nowSelecting);\n      state.update('config.chart.items', function updateItems(items) {\n        const now = nowSelecting['chart-timeline-items-row-items'];\n        for (const itemId in items) {\n          const item = items[itemId];\n          if (now.includes(item.id)) {\n            item.selecting = true;\n          } else {\n            item.selecting = false;\n          }\n        }\n        return items;\n      });\n      state.update('_internal.chart.grid.rowsWithBlocks', function updateRowsWithBlocks(rowsWithBlocks) {\n        const nowBlocks = nowSelecting['chart-timeline-grid-row-blocks'];\n        const nowRows = nowSelecting['chart-timeline-grid-rows'];\n        for (const row of rowsWithBlocks) {\n          if (nowRows.includes(row.id)) {\n            row.selecting = true;\n          } else {\n            row.selecting = false;\n          }\n          for (const block of row.blocks) {\n            if (nowBlocks.includes(block.id)) {\n              block.selecting = true;\n            } else {\n              block.selecting = false;\n            }\n          }\n        }\n        return rowsWithBlocks;\n      });\n    }\n\n    /**\n     * End select\n     * @param {Event} ev\n     */\n    function endSelect(ev) {\n      if (selecting.selecting) {\n        ev.stopPropagation();\n      } else {\n        clearSelection();\n        return;\n      }\n      selecting.selecting = false;\n      rect.style.visibility = 'hidden';\n      const currentSelect = state.get(path);\n      const select: SelectState = {};\n      state.update(path, value => {\n        select.selected = { ...value.selecting };\n        select.selecting = {\n          'chart-timeline-grid-rows': [],\n          'chart-timeline-grid-row-blocks': [],\n          'chart-timeline-items-rows': [],\n          'chart-timeline-items-row-items': []\n        } as Items;\n        return select;\n      });\n      const elements = state.get('_internal.elements');\n      for (const type in selectionTypesIdGetters) {\n        for (const element of elements[type + 's']) {\n          if (currentSelect.selecting[type + 's'].includes(element.vido.id)) {\n            options.deselecting(element.vido, type);\n          }\n        }\n      }\n      state.update('config.chart.items', function updateItems(items) {\n        const now = currentSelect.selecting['chart-timeline-items-row-items'];\n        for (const itemId in items) {\n          const item = items[itemId];\n          if (now.includes(item.id)) {\n            item.selecting = true;\n          } else {\n            item.selecting = false;\n          }\n        }\n        return items;\n      });\n      state.update('_internal.chart.grid.rowsWithBlocks', function updateRowsWithBlocks(rowsWithBlocks) {\n        for (const row of rowsWithBlocks) {\n          for (const block of row.blocks) {\n            if (currentSelect.selecting['chart-timeline-grid-row-blocks'].includes(block.id)) {\n              if (typeof block.selected === 'undefined' || !block.selected) {\n                options.selected(block, 'chart-timeline-grid-row-block');\n              }\n              block.selected = true;\n            } else {\n              if (previousSelect.selected['chart-timeline-grid-row-blocks'].includes(block.id)) {\n                options.deselected(block, 'chart-timeline-grid-row-block');\n              }\n              block.selected = false;\n            }\n          }\n        }\n        return rowsWithBlocks;\n      });\n    }\n\n    /**\n     * Mouse down event handler\n     * @param {MouseEvent} ev\n     */\n    function mouseDown(ev) {\n      if (ev.button !== 0) {\n        return;\n      }\n      selecting.selecting = true;\n      selecting.fromX = ev.x - left;\n      selecting.fromY = ev.y - top;\n      selecting.startX = selecting.fromX;\n      selecting.startY = selecting.fromY;\n      previousSelect = cloneSelection(state.get(path));\n      clearSelection();\n    }\n\n    /**\n     * Mouse move event handler\n     * @param {MouseEvent} ev\n     */\n    function mouseMove(ev) {\n      select(ev);\n    }\n\n    /**\n     * Mouse up event handler\n     * @param {MouseEvent} ev\n     */\n    function mouseUp(ev) {\n      endSelect(ev);\n    }\n\n    element.addEventListener('mousedown', mouseDown);\n    document.addEventListener('mousemove', schedule(mouseMove));\n    document.body.addEventListener('mouseup', mouseUp);\n    return {\n      update() {},\n      destroy() {\n        document.body.removeEventListener('mouseup', mouseUp);\n        document.removeEventListener('mousemove', mouseMove);\n        element.removeEventListener('mousedown', mouseDown);\n      }\n    };\n  }\n\n  /**\n   * Grid row block action\n   * @param {Element} element\n   * @param {object} data\n   * @returns {object} with update and destroy functions\n   */\n  function gridBlockAction(element, data) {\n    const classNameSelecting = api.getClass('chart-timeline-grid-row-block') + '--selecting';\n    const classNameSelected = api.getClass('chart-timeline-grid-row-block') + '--selected';\n    if (data.selecting) {\n      element.classList.add(classNameSelecting);\n    } else {\n      element.classList.remove(classNameSelecting);\n    }\n    if (data.selected) {\n      element.classList.add(classNameSelected);\n    } else {\n      element.classList.remove(classNameSelected);\n    }\n\n    return {\n      update(element, data) {\n        if (data.selecting) {\n          element.classList.add(classNameSelecting);\n        } else {\n          element.classList.remove(classNameSelecting);\n        }\n        if (data.selected) {\n          element.classList.add(classNameSelected);\n        } else {\n          element.classList.remove(classNameSelected);\n        }\n      },\n      destroy(element, changedData) {\n        element.classList.remove(classNameSelecting);\n        element.classList.remove(classNameSelected);\n      }\n    };\n  }\n\n  /**\n   * Item action\n   * @param {Element} element\n   * @param {object} data\n   * @returns {object} with update and destroy functions\n   */\n  function itemAction(element, data) {\n    const classNameSelecting = api.getClass('chart-timeline-items-row-item') + '--selecting';\n    const classNameSelected = api.getClass('chart-timeline-items-row-item') + '--selected';\n    if (data.item.selecting) {\n      if (!element.classList.contains(classNameSelecting)) element.classList.add(classNameSelecting);\n    } else if (element.classList.contains(classNameSelecting)) {\n      element.classList.remove(classNameSelecting);\n    }\n    if (data.item.selected) {\n      if (!element.classList.contains(classNameSelected)) element.classList.add(classNameSelected);\n    } else if (element.classList.contains(classNameSelected)) {\n      element.classList.remove(classNameSelected);\n    }\n    return {\n      update(element, data) {\n        if (data.item.selecting) {\n          if (!element.classList.contains(classNameSelecting)) element.classList.add(classNameSelecting);\n        } else if (element.classList.contains(classNameSelecting)) {\n          element.classList.remove(classNameSelecting);\n        }\n        if (data.item.selected) {\n          if (!element.classList.contains(classNameSelected)) element.classList.add(classNameSelected);\n        } else if (element.classList.contains(classNameSelected)) {\n          element.classList.remove(classNameSelected);\n        }\n      },\n      destroy(element, changedData) {\n        element.classList.remove(classNameSelecting);\n        element.classList.remove(classNameSelected);\n      }\n    };\n  }\n\n  /**\n   * On block create handler\n   * @param {object} block\n   * @returns {object} block\n   */\n  function onBlockCreate(block) {\n    const select = state.get('config.plugin.selection');\n    if (select.selected['chart-timeline-grid-row-blocks'].find(id => id === block.id)) {\n      block.selected = true;\n    } else {\n      block.selected = false;\n    }\n    return block;\n  }\n\n  return function initialize(mainVido) {\n    vido = mainVido;\n    state = vido.state;\n    api = vido.api;\n    schedule = vido.schedule;\n    if (typeof state.get(path) === 'undefined') {\n      state.update(path, {\n        selecting: {\n          'chart-timeline-grid-rows': [],\n          'chart-timeline-grid-row-blocks': [],\n          'chart-timeline-items-rows': [],\n          'chart-timeline-items-row-items': []\n        },\n        selected: {\n          'chart-timeline-grid-rows': [],\n          'chart-timeline-grid-row-blocks': [],\n          'chart-timeline-items-rows': [],\n          'chart-timeline-items-row-items': []\n        }\n      });\n    }\n    state.update('config.chart.items', items => {\n      for (const itemId in items) {\n        const item = items[itemId];\n        if (typeof item.selecting === 'undefined') {\n          item.selecting = false;\n        }\n        if (typeof item.selected === 'undefined') {\n          item.selected = false;\n        }\n      }\n      return items;\n    });\n    state.update('config.actions.chart-timeline', actions => {\n      actions.push(selectionAction);\n      return actions;\n    });\n    state.update('config.actions.chart-timeline-grid-row-block', actions => {\n      actions.push(gridBlockAction);\n      return actions;\n    });\n    state.update('config.actions.chart-timeline-items-row-item', actions => {\n      actions.push(itemAction);\n      return actions;\n    });\n    state.update('config.chart.grid.block.onCreate', onCreate => {\n      onCreate.push(onBlockCreate);\n      return onCreate;\n    });\n  };\n}\n"],"names":[],"mappings":"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"}