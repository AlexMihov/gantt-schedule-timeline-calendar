!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Selection={})}(this,(function(t){"use strict";const e="chart-timeline-grid-row-cell",i="chart-timeline-items-row-item";let s,n,a,o,c,l,r,h;function u(t,e){const i=s(t,e);l.isSelecting?(h.style.display="block",h.style.left=l.selectionArea.x+"px",h.style.top=l.selectionArea.y+"px",h.style.width=l.selectionArea.width+"px",h.style.height=l.selectionArea.height+"px"):h.style.display="none";const n=c`
    <div class=${r} style=${h}></div>
  `;return c`
    ${i}${n}
  `}function d(t,e){return s=t,n=e,a=n.api,o=n.state,c=n.html,r=a.getClass("chart-selection"),h=new n.StyleMap({display:"none"}),n.onDestroy(o.subscribe("config.plugin.Selection",t=>{l=t,n.update()})),u}const p="config.plugin.Selection";function g(){return{enabled:!0,isSelecting:!1,initialPosition:{x:0,y:0},currentPosition:{x:0,y:0},selectionArea:{x:0,y:0,width:0,height:0},selecting:{[i]:[],[e]:[]},selected:{[i]:[],[e]:[]}}}class y{constructor(t,e){this.unsub=[],this.vido=t,this.state=t.state,this.api=t.api,this.options=e,this.data=g(),this.unsub.push(this.state.subscribe("config.plugin.TimelinePointer",t=>{this.poitnerData=t,this.onPointerData()})),this.updateData(),this.unsub.push(this.state.subscribe(p,t=>{this.data=t}))}destroy(){this.unsub.forEach(t=>t())}updateData(){this.state.update(p,Object.assign({},this.data))}getItemsUnderSelectionArea(){}getSelectionArea(){const t={x:0,y:0,width:0,height:0},e=Object.assign({},this.poitnerData.initialPosition),i=Object.assign({},this.poitnerData.currentPosition),s=i.x-e.x,n=i.y-e.y;return s>=0?(t.x=e.x,t.width=s):(t.x=i.x,t.width=Math.abs(s)),n>=0?(t.y=e.y,t.height=n):(t.y=i.y,t.height=Math.abs(n)),t}onPointerData(){if(this.poitnerData.isMoving){this.data.isSelecting=!0,this.data.selectionArea=this.getSelectionArea(),console.log(this.data.selectionArea);this.getItemsUnderSelectionArea()}else this.poitnerData.isMoving||(this.data.isSelecting=!1);this.updateData()}}t.Plugin=function(t={}){return t=function(t){const e={enabled:!0,grid:!1,items:!0,rows:!1,horizontal:!0,vertical:!0,selecting(){},deselecting(){},selected(){},deselected(){},canSelect:(t,e,i)=>e,canDeselect:(t,e,i)=>[]};return t=Object.assign(Object.assign({},e),t)}(t),function(e){const i=new y(e,t);return e.state.update(p,g()),e.state.update("config.wrappers.ChartTimelineItems",t=>d(t,e)),function(){i.destroy()}}},Object.defineProperty(t,"__esModule",{value:!0})}));
