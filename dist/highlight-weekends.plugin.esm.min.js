class t{constructor(){this.isAction=!0}}function e(t){return t&&"object"==typeof t&&t.constructor&&"Object"===t.constructor.name}function i(i={}){const n=i.weekdays||[6,0];let o,s,c=!0;class r extends t{constructor(t,e){super(),this.highlight(t,e.time.leftGlobal)}update(t,e){this.highlight(t,e.time.leftGlobal)}highlight(t,e){const i=t.classList.contains(o);if(!c)return void(i&&t.classList.remove(o));const r=n.includes(s.time.date(e).day());!i&&r?t.classList.add(o):i&&!r&&t.classList.remove(o)}}return function(t){const n=[];s=t.api,o=i.className||s.getClass("chart-timeline-grid-row-cell")+"--weekend";const l=t.state.get("config.plugin.HighlightWeekends");return l&&(i=function t(i,...n){const o=n.shift();if(e(i)&&e(o))for(const n in o)if(e(o[n]))"function"==typeof o[n].clone?i[n]=o[n].clone():(void 0===i[n]&&(i[n]={}),i[n]=t(i[n],o[n]));else if(Array.isArray(o[n])){i[n]=new Array(o[n].length);let s=0;for(let c of o[n])e(c)?"function"==typeof c.clone?i[n][s]=c.clone():i[n][s]=t({},c):i[n][s]=c,s++}else i[n]=o[n];return n.length?t(i,...n):i}({},i,l)),n.push(t.state.subscribe("$data.chart.time.format.period",t=>c="day"===t)),t.state.update("config.actions.chart-timeline-grid-row-cell",t=>(t.push(r),t)),function(){n.forEach(t=>t()),t.state.update("config.actions.chart-timeline-grid-row-cell",t=>t.filter(t=>t!==r))}}}t.prototype.isAction=!0;export{i as Plugin};
