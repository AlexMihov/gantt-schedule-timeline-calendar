!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Selection=e()}(this,(function(){"use strict";var t=function(t){var e=[],n=null,o=function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];e=s,n||(n=requestAnimationFrame((function(){n=null,t.apply(void 0,e)})))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o};
/**
   * Selection plugin
   *
   * @copyright Rafal Pospiech <https://neuronet.io>
   * @author    Rafal Pospiech <neuronet.io@gmail.com>
   * @package   gantt-schedule-timeline-calendar
   * @license   GPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)
   * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
   */return function(e={}){let n,o,s,r;e={...e,style:{},grid:!1,items:!0,rows:!1};let i={fromX:-1,fromY:-1,toX:-1,toY:-1,startX:-1,startY:-1,data:[],elements:[]};const l="config.plugins.selection",a="gantt-schedule-timeline-caledar__plugin-selection-rect",d=document.createElement("div");d.classList.add(a),d.style.visibility="hidden",d.style.left="0px",d.style.top="0px",d.style.width="0px",d.style.height="0px",d.style.background="rgba(0, 119, 192,0.2)",d.style.border="2px dashed rgba(0, 119, 192,1)",d.style.position="absolute",d.style["user-select"]="none",d.style["pointer-events"]="none";for(const t in e.style)d.style[t]=e.style[t];function m(e,m){if(!(o=n.get("_internal.elements.chart-timeline")).querySelector("."+a)){o.insertAdjacentElement("beforeend",d);const t=o.getBoundingClientRect();r=t.left,s=t.top}function u(t){0===t.button&&(i.fromX=t.x-r,i.fromY=t.y-s,i.startX=i.fromX,i.startY=i.fromY)}function f(t){-1===i.fromX&&-1===i.fromY||t.x-r!==i.fromX&&t.y-s!==i.fromY&&(t.stopPropagation(),function(t){const e=t.x-r,n=t.y-s;e<=i.startX?(i.fromX=e,i.toX=i.startX):(i.fromX=i.startX,i.toX=e),n<=i.startY?(i.fromY=n,i.toY=i.startY):(i.fromY=i.startY,i.toY=n)}(t),d.style.left=i.fromX+"px",d.style.top=i.fromY+"px",d.style.visibility="visible",d.style.width=i.toX-i.fromX+"px",d.style.height=i.toY-i.fromY+"px",n.get(`${l}.selecting`)||n.update(`${l}.selecting`,!0))}function c(t){-1!==i.fromX&&-1!==i.fromY&&t.stopPropagation(),i.fromX=-1,i.fromY=-1,i.startX=-1,i.startY=-1,i.data=[],i.elements=[],d.style.visibility="hidden",n.update(`${l}.selecting`,!1)}return e.addEventListener("mousedown",u),document.body.addEventListener("mousemove",t(f)),document.body.addEventListener("mouseup",c),{update(t,e){},destroy(){document.body.removeEventListener("mouseup",c),document.body.removeEventListener("mousemove",f),e.removeEventListener("mousedown",u)}}}return function(t,e){void 0===(n=t).get(l)&&n.update(l,{selecting:!1,selected:[]}),n.update("config.actions.chart-timeline",t=>(t.push(m),t))}}}));
//# sourceMappingURL=Selection.plugin.js.map
