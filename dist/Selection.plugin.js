!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Selection=e()}(this,(function(){"use strict";var t=function(t){var e=[],o=null,n=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e=i,o||(o=requestAnimationFrame((function(){o=null,t.apply(void 0,e)})))};return n.cancel=function(){o&&(cancelAnimationFrame(o),o=null)},n};
/**
   * Selection plugin
   *
   * @copyright Rafal Pospiech <https://neuronet.io>
   * @author    Rafal Pospiech <neuronet.io@gmail.com>
   * @package   gantt-schedule-timeline-calendar
   * @license   GPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)
   * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
   */return function(e={}){let o,n,i,r;e={...e,style:{},grid:!1,items:!0,rows:!1};let s={fromX:-1,fromY:-1,toX:-1,toY:-1,startX:-1,startY:-1};const l="config.plugins.selection",m="gantt-schedule-timeline-caledar__plugin-selection-rect",c=document.createElement("div");c.classList.add(m),c.style.visibility="hidden",c.style.left="0px",c.style.top="0px",c.style.width="0px",c.style.height="0px",c.style.background="rgba(0, 119, 192,0.2)",c.style.border="2px dashed rgba(0, 119, 192,1)",c.style.position="absolute",c.style["user-select"]="none",c.style["pointer-events"]="none";for(const t in e.style)c.style[t]=e.style[t];function a(e,a){if(!(n=o.get("_internal.elements.chart-timeline")).querySelector("."+m)){n.insertAdjacentElement("beforeend",c);const t=n.getBoundingClientRect();r=t.left,i=t.top}function d(t){0===t.button&&(s.fromX=t.x-r,s.fromY=t.y-i,s.startX=s.fromX,s.startY=s.fromY)}function u(t){-1===s.fromX&&-1===s.fromY||t.x-r!==s.fromX&&t.y-i!==s.fromY&&(t.stopPropagation(),function(t){const e=t.x-r,o=t.y-i;e<=s.startX?(s.fromX=e,s.toX=s.startX):(s.fromX=s.startX,s.toX=e),o<=s.startY?(s.fromY=o,s.toY=s.startY):(s.fromY=s.startY,s.toY=o)}(t),c.style.left=s.fromX+"px",c.style.top=s.fromY+"px",c.style.visibility="visible",c.style.width=s.toX-s.fromX+"px",c.style.height=s.toY-s.fromY+"px",o.get(`${l}.selecting`)||o.update(`${l}.selecting`,!0))}function f(t){-1!==s.fromX&&-1!==s.fromY&&t.stopPropagation(),s.fromX=-1,s.fromY=-1,s.startX=-1,s.startY=-1,c.style.visibility="hidden",o.get(`${l}.selecting`)&&o.update(`${l}.selecting`,!1)}return e.addEventListener("mousedown",d),document.body.addEventListener("mousemove",t(u)),document.body.addEventListener("mouseup",f),{update(t,e){},destroy(){document.body.removeEventListener("mouseup",f),document.body.removeEventListener("mousemove",u),e.removeEventListener("mousedown",d)}}}return function(t,e){void 0===(o=t).get(l)&&o.update(l,{selecting:!1,selected:{"chart-timeline-grid-rows":[],"chart-timeline-grid-row-blocks":[],"chart-timeline-items-rows":[],"chart-timeline-items-row-items":[]}}),o.update("config.actions.chart-timeline",t=>(t.push(a),t))}}}));
//# sourceMappingURL=Selection.plugin.js.map
