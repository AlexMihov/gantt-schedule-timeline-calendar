!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ItemHold=t()}(this,(function(){"use strict";
/**
   * ItemHold plugin
   *
   * @copyright Rafal Pospiech <https://neuronet.io>
   * @author    Rafal Pospiech <neuronet.io@gmail.com>
   * @package   gantt-schedule-timeline-calendar
   * @license   GPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)
   * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
   */return function ItemHold(e={}){let t;const n={time:1e3,movementThreshold:2,action(e,t){}};e=Object.assign(Object.assign({},n),e);const o={},i={x:0,y:0};function onPointerUp(e){void 0!==o[e]&&delete o[e]}function action(n,r){function elementPointerDown(d){!function onPointerDown(n,r,d){if(void 0===o[n.id]){const m=t.normalizePointerEvent(d);o[n.id]={x:m.x,y:m.y},d.stopPropagation(),d.preventDefault(),setTimeout(()=>{if(void 0!==o[n.id]){let t=!0;const d=Math.abs(o[n.id].x-i.x),m=Math.abs(o[n.id].y-i.y);d>e.movementThreshold&&(t=!1),m>e.movementThreshold&&(t=!1),delete o[n.id],t&&e.action(r,n)}},e.time)}}(r.item,n,d)}function pointerUp(){onPointerUp(r.item.id)}function onPointerMove(e){const n=t.normalizePointerEvent(e);i.x=n.x,i.y=n.y}return n.addEventListener("mousedown",elementPointerDown),n.addEventListener("touchstart",elementPointerDown),document.addEventListener("mouseup",pointerUp),document.addEventListener("touchend",pointerUp),document.addEventListener("mousemove",onPointerMove),document.addEventListener("touchmove",onPointerMove),{update(e,t){r=t},destroy(e,t){document.removeEventListener("mouseup",onPointerUp),document.removeEventListener("mousemove",onPointerMove),e.removeEventListener("mousedown",elementPointerDown),document.removeEventListener("touchend",onPointerUp),document.removeEventListener("touchmove",onPointerMove),e.removeEventListener("touchstart",elementPointerDown)}}}return function initialize(e){t=e.api,e.state.update("config.actions.chart-timeline-items-row-item",e=>(e.push(action),e))}}}));
//# sourceMappingURL=ItemHold.plugin.min.js.map
