!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).CalendarScroll=t()}(this,(function(){"use strict";const e={enabled:!0};return function(t=e){let i,n,o,r=t.enabled;class s{constructor(e){this.moving=!1,this.initialDataIndex={x:0,y:0},this.pointerDown=this.pointerDown.bind(this),this.pointerUp=this.pointerUp.bind(this),this.pointerMove=i.schedule(this.pointerMove.bind(this)),e.addEventListener("pointerdown",this.pointerDown),document.addEventListener("pointermove",this.pointerMove,{passive:!0}),document.addEventListener("pointerup",this.pointerUp),e.style.cursor="grab"}destroy(e){e.removeEventListener("pointerdown",this.pointerDown),document.removeEventListener("pointermove",this.pointerMove),document.removeEventListener("pointerup",this.pointerUp)}pointerDown(e){if(!r)return;this.moving=!0,this.initialPoint={x:e.screenX,y:e.screenY};const t=o.get("config.scroll");this.initialDataIndex={x:t.horizontal.dataIndex||0,y:t.vertical.dataIndex||0}}pointerUp(e){r&&this.moving&&(this.moving=!1)}handleHorizontalMovement(e,t){const i=o.get("_internal.chart.time");if(e.x>0){if(0===this.initialDataIndex.x)return;const t=i.allDates[i.level];let o=this.initialDataIndex.x-1,r=0;for(;o>0;o--){if(r+=t[o].width,r>=e.x)break}n.scrollToTime(t[o].leftGlobal,!1)}else if(e.x<0){const t=i.allDates[i.level];let o=this.initialDataIndex.x,r=0;for(let i=t.length;o<i;o++){if(r+=t[o].width,-r<=e.x)break}n.scrollToTime(t[o].leftGlobal,!1)}}pointerMove(e){if(!r||!this.moving)return;const t={x:e.screenX-this.initialPoint.x,y:e.screenY-this.initialPoint.y};this.handleHorizontalMovement(t,e)}}return function(e){i=e,n=i.api,o=i.state,o.update("config.plugin.CalendarScroll",t),o.subscribe("config.plugin.CalendarScroll.enabled",e=>r=e),o.update("config.actions.chart-calendar",e=>(e.push(s),e))}}}));
