{"version":3,"file":"plugins.esm.js","sources":["../node_modules/@neuronet.io/vido/src/helpers.ts","../src/plugins/timeline-pointer.plugin.ts","../src/plugins/item-movement.plugin.ts","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../node_modules/@neuronet.io/vido/src/Action.ts","../node_modules/dayjs/dayjs.min.js","../node_modules/dayjs/plugin/utc.js","../node_modules/deep-state-observer/wildcard_matcher.js","../node_modules/lit-html-optimised/lib/template.js","../node_modules/lit-html-optimised/lib/template-result.js","../node_modules/lit-html-optimised/lib/parts.js","../node_modules/lit-html-optimised/lit-html.js","../node_modules/lit-html-optimised/directives/async-append.js","../node_modules/lit-html-optimised/directives/async-replace.js","../node_modules/lit-html-optimised/directives/unsafe-html.js","../node_modules/@neuronet.io/vido/src/PointerAction.ts","../src/api/api.ts","../src/plugins/item-resizing.plugin.ts","../src/plugins/selection.plugin.ts","../src/plugins/calendar-scroll.plugin.ts","../src/plugins/highlight-weekends.plugin.ts","../src/plugins/plugins.ts"],"sourcesContent":["/**\n * Schedule - a throttle function that uses requestAnimationFrame to limit the rate at which a function is called.\n *\n * @param {function} fn\n * @returns {function}\n */\nexport function schedule(fn: (argument) => void | any) {\n  let frameId = 0;\n  function wrapperFn(argument) {\n    if (frameId) {\n      return;\n    }\n    function executeFrame() {\n      frameId = 0;\n      fn.apply(undefined, [argument]);\n    }\n    frameId = requestAnimationFrame(executeFrame);\n  }\n  return wrapperFn;\n}\n\n/**\n * Is object - helper function to determine if specified variable is an object\n *\n * @param {any} item\n * @returns {boolean}\n */\nfunction isObject(item) {\n  return item && typeof item === 'object' && item.constructor && item.constructor.name === 'Object';\n}\n\n/**\n * Merge deep - helper function which will merge objects recursively - creating brand new one - like clone\n *\n * @param {object} target\n * @params {[object]} sources\n * @returns {object}\n */\nexport function mergeDeep(target, ...sources) {\n  const source = sources.shift();\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (typeof source[key].clone === 'function') {\n          target[key] = source[key].clone();\n        } else {\n          if (typeof target[key] === 'undefined') {\n            target[key] = {};\n          }\n          target[key] = mergeDeep(target[key], source[key]);\n        }\n      } else if (Array.isArray(source[key])) {\n        target[key] = new Array(source[key].length);\n        let index = 0;\n        for (let item of source[key]) {\n          if (isObject(item)) {\n            if (typeof item.clone === 'function') {\n              target[key][index] = item.clone();\n            } else {\n              target[key][index] = mergeDeep({}, item);\n            }\n          } else {\n            target[key][index] = item;\n          }\n          index++;\n        }\n      } else {\n        target[key] = source[key];\n      }\n    }\n  }\n  if (!sources.length) {\n    return target;\n  }\n  return mergeDeep(target, ...sources);\n}\n\n/**\n * Clone helper function\n *\n * @param source\n * @returns {object} cloned source\n */\nexport function clone(source) {\n  if (typeof source.actions !== 'undefined') {\n    const actns = source.actions.map((action) => {\n      const result = { ...action };\n      const props = { ...result.props };\n      delete props.state;\n      delete props.api;\n      delete result.element;\n      result.props = props;\n      return result;\n    });\n    source.actions = actns;\n  }\n  return mergeDeep({}, source);\n}\n\nexport default {\n  mergeDeep,\n  clone,\n  schedule,\n};\n","/**\n * TimelinePointer plugin\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n\nimport DeepState from 'deep-state-observer';\nimport { Api } from '../api/api';\nimport { Vido } from '../gstc';\nimport { mergeDeep } from '@neuronet.io/vido/src/helpers';\n\nexport const CELL = 'chart-timeline-grid-row-cell';\nexport type CELL_TYPE = 'chart-timeline-grid-row-cell';\nexport const ITEM = 'chart-timeline-items-row-item';\nexport type ITEM_TYPE = 'chart-timeline-items-row-item';\n\nexport interface PointerEvents {\n  down: PointerEvent | null;\n  move: PointerEvent | null;\n  up: PointerEvent | null;\n}\n\nexport interface Point {\n  x: number;\n  y: number;\n}\n\nexport type PointerState = 'up' | 'down' | 'move';\n\nexport interface CaptureEvents {\n  up?: boolean;\n  down?: boolean;\n  move?: boolean;\n}\n\nexport interface Options {\n  enabled?: boolean;\n  captureEvents?: CaptureEvents;\n}\n\nexport interface Offset {\n  top: number;\n  left: number;\n}\n\nexport interface PluginData extends Options {\n  isMoving: boolean;\n  pointerState: PointerState;\n  currentTarget: HTMLElement | null;\n  realTarget: HTMLElement | null;\n  targetType: ITEM_TYPE | CELL_TYPE | '';\n  targetData: any | null;\n  events: PointerEvents;\n  offset: Offset;\n  initialPosition: Point;\n  currentPosition: Point;\n}\n\nfunction generateEmptyData(options: Options = {}): PluginData {\n  const result: PluginData = {\n    enabled: true,\n    isMoving: false,\n    pointerState: 'up',\n    currentTarget: null,\n    realTarget: null,\n    targetType: '',\n    targetData: null,\n    offset: { top: 0, left: 0 },\n    captureEvents: {\n      down: false,\n      up: false,\n      move: false,\n    },\n    initialPosition: { x: 0, y: 0 },\n    currentPosition: { x: 0, y: 0 },\n    events: {\n      down: null,\n      move: null,\n      up: null,\n    },\n  };\n  if (options.captureEvents) {\n    result.captureEvents = {\n      ...result.captureEvents,\n      ...options.captureEvents,\n    };\n  }\n  return result;\n}\n\nconst pluginPath = 'config.plugin.TimelinePointer';\n\nclass TimelinePointer {\n  private element: HTMLElement;\n  private vido: Vido;\n  private api: Api;\n  private state: DeepState;\n  private data: PluginData;\n  private unsub = [];\n  private classNames = {\n    cell: '',\n    item: '',\n  };\n\n  constructor(options: Options, vido: Vido) {\n    this.vido = vido;\n    this.api = vido.api;\n    this.state = vido.state;\n    this.element = this.state.get(`$data.elements.chart-timeline`);\n    this.pointerDown = this.pointerDown.bind(this);\n    this.pointerMove = this.pointerMove.bind(this);\n    this.pointerUp = this.pointerUp.bind(this);\n    this.data = generateEmptyData(options);\n    this.classNames.cell = this.api.getClass(CELL);\n    this.classNames.item = this.api.getClass(ITEM);\n    this.destroy = this.destroy.bind(this);\n    this.element.addEventListener('pointerdown', this.pointerDown /*, this.data.captureEvents.down*/);\n    document.addEventListener('pointerup', this.pointerUp /*, this.data.captureEvents.up*/);\n    document.addEventListener('pointermove', this.pointerMove /*, this.data.captureEvents.move*/);\n    this.unsub.push(this.state.subscribe(pluginPath, (value) => (this.data = value)));\n    this.unsub.push(\n      this.state.subscribe('config.scroll.vertical.offset', (offset) => {\n        this.data.offset.left = offset;\n        this.updateData();\n      })\n    );\n  }\n\n  public destroy() {\n    this.element.removeEventListener('pointerdown', this.pointerDown);\n    document.removeEventListener('pointerup', this.pointerUp);\n    document.removeEventListener('pointermove', this.pointerMove);\n  }\n\n  private updateData() {\n    this.state.update(pluginPath, () => ({ ...this.data }));\n  }\n\n  private getRealTarget(ev: PointerEvent) {\n    let realTarget: HTMLElement = (ev.target as HTMLElement).closest('.' + this.classNames.item) as HTMLElement;\n    if (realTarget) {\n      return realTarget;\n    }\n    realTarget = (ev.target as HTMLElement).closest('.' + this.classNames.cell) as HTMLElement;\n    if (realTarget) {\n      return realTarget;\n    }\n    return null;\n  }\n\n  private getRealPosition(ev: PointerEvent): Point {\n    const pos = { x: 0, y: 0 };\n    if (this.element) {\n      const bounding = this.element.getBoundingClientRect();\n      pos.x = ev.x - bounding.x;\n      pos.y = ev.y - bounding.y;\n      const scrollOffsetTop = this.state.get('config.scroll.vertical.offset') || 0;\n      pos.y += scrollOffsetTop;\n    }\n    return pos;\n  }\n\n  private pointerDown(ev: PointerEvent) {\n    if (!this.data.enabled) return;\n    this.data.pointerState = 'down';\n    this.data.currentTarget = ev.target as HTMLElement;\n    this.data.realTarget = this.getRealTarget(ev);\n    if (this.data.realTarget) {\n      if (this.data.realTarget.classList.contains(this.classNames.item)) {\n        this.data.targetType = ITEM;\n        // @ts-ignore\n        this.data.targetData = this.data.realTarget.vido.item;\n      } else if (this.data.realTarget.classList.contains(this.classNames.cell)) {\n        this.data.targetType = CELL;\n        // @ts-ignore\n        this.data.targetData = this.data.realTarget.vido;\n      } else {\n        this.data.targetType = '';\n      }\n    } else {\n      this.data.targetType = '';\n      this.data.targetData = null;\n    }\n    this.data.isMoving = !!this.data.realTarget;\n    this.data.events.down = ev;\n    this.data.events.move = ev;\n    const realPosition = this.getRealPosition(ev);\n    this.data.initialPosition = realPosition;\n    this.data.currentPosition = realPosition;\n    this.updateData();\n  }\n\n  private pointerUp(ev: PointerEvent) {\n    if (!this.data.enabled) return;\n    this.data.pointerState = 'up';\n    this.data.isMoving = false;\n    this.data.events.up = ev;\n    this.data.currentPosition = this.getRealPosition(ev);\n    this.updateData();\n  }\n\n  private pointerMove(ev: PointerEvent) {\n    if (!this.data.enabled || !this.data.isMoving) return;\n    this.data.pointerState = 'move';\n    this.data.events.move = ev;\n    this.data.currentPosition = this.getRealPosition(ev);\n    this.updateData();\n  }\n}\n\nexport function Plugin(options: Options) {\n  return function initialize(vidoInstance: Vido) {\n    const currentOptions = vidoInstance.state.get(pluginPath);\n    if (currentOptions) {\n      options = mergeDeep(mergeDeep({}, options), currentOptions);\n    }\n    const subs = [];\n    const defaultData = generateEmptyData(options);\n    // for other plugins that are initialized before elements are saved\n    vidoInstance.state.update(pluginPath, defaultData);\n\n    // initialize only if chart element is mounted\n    let timelinePointerDestroy;\n    subs.push(\n      vidoInstance.state.subscribe('$data.elements.chart-timeline', (timelineElement: HTMLElement) => {\n        if (timelineElement) {\n          if (timelinePointerDestroy) timelinePointerDestroy();\n          const timelinePointer = new TimelinePointer(options, vidoInstance);\n          timelinePointerDestroy = timelinePointer.destroy;\n        }\n      })\n    );\n    return function destroy() {\n      subs.forEach((unsub) => unsub());\n      if (timelinePointerDestroy) timelinePointerDestroy();\n    };\n  };\n}\n","/**\n * ItemMovement plugin\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n\nimport { PluginData as SelectionPluginData } from './selection.plugin';\nimport { Item, DataChartTime, Vido, Row, Rows } from '../gstc';\nimport { ITEM, Point } from './timeline-pointer.plugin';\nimport { Dayjs } from 'dayjs';\nimport { Api } from '../api/api';\nimport DeepState from 'deep-state-observer';\nimport { mergeDeep } from '@neuronet.io/vido/src/helpers';\n\nexport interface SnapArg {\n  item: Item;\n  time: DataChartTime;\n  vido: Vido;\n  movement: Movement;\n}\n\nexport interface SnapStartArg extends SnapArg {\n  startTime: Dayjs;\n}\n\nexport interface SnapEndArg extends SnapArg {\n  endTime: Dayjs;\n}\n\nexport interface SnapToTime {\n  start?: (snapStartArgs: SnapStartArg) => Dayjs;\n  end?: (snapEndArgs: SnapEndArg) => Dayjs;\n}\n\nexport interface BeforeAfterInitialItems {\n  initial: Item[];\n  before: Item[];\n  after: Item[];\n  targetData: Item;\n}\n\nexport interface OnArg {\n  items: BeforeAfterInitialItems;\n  vido: Vido;\n  state: DeepState;\n  time: DataChartTime;\n}\n\nexport interface Events {\n  onStart?: (onArg: OnArg) => Item[];\n  onMove?: (onArg: OnArg) => Item[];\n  onEnd?: (onArg: OnArg) => Item[];\n}\n\nexport interface Options {\n  enabled?: boolean;\n  className?: string;\n  bodyClass?: string;\n  bodyClassMoving?: string;\n  events?: Events;\n  snapToTime?: SnapToTime;\n  debug?: boolean;\n}\n\nexport interface MovementResult {\n  horizontal: number;\n  vertical: number;\n}\n\nexport interface Movement {\n  px: MovementResult;\n  time: number;\n}\n\nexport interface LastMovement {\n  x: number;\n  y: number;\n  time: number;\n}\n\nexport interface PluginData extends Options {\n  moving: Item[];\n  targetData: Item | null;\n  initialItems: Item[];\n  movement: Movement;\n  lastMovement: LastMovement;\n  position: Point;\n  pointerState: 'up' | 'down' | 'move';\n  state: State;\n  pointerMoved: boolean;\n}\n\nexport interface MovingTimes {\n  startTime: Dayjs;\n  endTime: Dayjs;\n}\n\nexport type State = '' | 'start' | 'end' | 'move';\n\nexport interface Cumulation {\n  start: number;\n  end: number;\n}\n\nexport interface Cumulations {\n  [key: string]: Cumulation;\n}\n\nexport interface RelativeVerticalPosition {\n  [key: string]: number;\n}\n\nfunction prepareOptions(options: Options): Options {\n  return {\n    enabled: true,\n    className: '',\n    bodyClass: 'gstc-item-movement',\n    bodyClassMoving: 'gstc-items-moving',\n    ...options,\n  };\n}\n\nconst pluginPath = 'config.plugin.ItemMovement';\n\nfunction generateEmptyPluginData(options: Options): PluginData {\n  const events = {\n    onStart({ items }) {\n      return items.after;\n    },\n    onMove({ items }) {\n      return items.after;\n    },\n    onEnd({ items }) {\n      return items.after;\n    },\n  };\n  const snapToTime = {\n    start({ startTime, time }) {\n      return startTime.startOf(time.period);\n    },\n    end({ endTime, time }) {\n      return endTime.endOf(time.period);\n    },\n  };\n  const result: PluginData = {\n    debug: false,\n    moving: [],\n    targetData: null,\n    initialItems: [],\n    pointerState: 'up',\n    pointerMoved: false,\n    state: '',\n    position: { x: 0, y: 0 },\n    movement: {\n      px: { horizontal: 0, vertical: 0 },\n      time: 0,\n    },\n    lastMovement: { x: 0, y: 0, time: 0 },\n    events: { ...events },\n    snapToTime: { ...snapToTime },\n    ...options,\n  };\n  if (options.snapToTime) {\n    result.snapToTime = {\n      ...snapToTime,\n      ...options.snapToTime,\n    };\n  }\n  if (options.events) {\n    result.events = {\n      ...events,\n      ...options.events,\n    };\n  }\n  return result;\n}\n\nclass ItemMovement {\n  private vido: Vido;\n  private api: Api;\n  private state: DeepState;\n  private onDestroy = [];\n  private selection: SelectionPluginData;\n  private data: PluginData;\n  private cumulations: Cumulations = {};\n  private merge: (target: object, source: object) => object;\n  private relativeVerticalPosition: RelativeVerticalPosition = {};\n\n  constructor(vido: Vido) {\n    this.vido = vido;\n    this.api = vido.api;\n    this.state = vido.state;\n    this.merge = this.state.get('config.merge');\n    this.destroy = this.destroy.bind(this);\n    this.onDestroy.push(\n      this.state.subscribe(pluginPath, (data) => {\n        this.data = data;\n        if (!data.enabled) {\n          document.body.classList.remove(this.data.bodyClass);\n        } else {\n          document.body.classList.add(this.data.bodyClass);\n        }\n      })\n    );\n    if (!this.data.className) this.data.className = this.api.getClass('chart-timeline-items-row-item--moving');\n    this.onSelectionChange = this.onSelectionChange.bind(this);\n    this.onDestroy.push(this.state.subscribe('config.plugin.Selection', this.onSelectionChange));\n  }\n\n  public destroy() {\n    this.onDestroy.forEach((unsub) => unsub());\n  }\n\n  private updateData() {\n    this.state.update(pluginPath, { ...this.data });\n  }\n\n  private clearCumulationsForItems() {\n    this.cumulations = {};\n  }\n\n  private setStartCumulationForItem(item: Item, cumulation: number) {\n    if (!this.cumulations[item.id]) {\n      this.cumulations[item.id] = { start: 0, end: 0 };\n    }\n    this.cumulations[item.id].start = cumulation;\n  }\n\n  private getStartCumulationForItem(item: Item): number {\n    return this.cumulations[item.id]?.start || 0;\n  }\n\n  private getItemMovingTimes(item: Item, time: DataChartTime): MovingTimes {\n    const horizontal = this.data.movement.px.horizontal;\n    const itemData = this.api.getItemData(item.id);\n    const positionLeft = this.api.time.getViewOffsetPxFromDates(itemData.time.startDate, false, time);\n    const x = positionLeft + horizontal + this.getStartCumulationForItem(item);\n    const leftGlobal = this.api.time.getTimeFromViewOffsetPx(x, time);\n    const startTime = this.data.snapToTime.start({\n      startTime: this.api.time.date(leftGlobal),\n      item,\n      time,\n      movement: this.data.movement,\n      vido: this.vido,\n    });\n    const snapStartPxDiff = this.api.time.getDatesDiffPx(startTime, this.api.time.date(leftGlobal), time, true);\n    this.setStartCumulationForItem(item, snapStartPxDiff);\n    const startEndTimeDiff = itemData.time.endDate.diff(itemData.time.startDate, 'millisecond');\n    // diff could be too much if we are in the middle of european summer time (daylight-saving time)\n    const rightGlobal = startTime.add(startEndTimeDiff, 'millisecond').valueOf();\n    const rightGlobalDate = this.api.time.date(rightGlobal);\n    /* // summer time / daylight saving time bug\n    const leftFmt = rightGlobalDate.format('YYYY-MM-DD HH:mm:ss');\n    const rightFmt = rightGlobalDate.endOf(time.period).format('YYYY-MM-DD HH:mm:ss');\n    if (leftFmt !== rightFmt) {\n      console.log('no match', leftFmt, rightFmt);\n    }*/\n    const endTime = this.data.snapToTime.end({\n      endTime: rightGlobalDate,\n      item,\n      time,\n      movement: this.data.movement,\n      vido: this.vido,\n    });\n    return { startTime, endTime };\n  }\n\n  private findRowAtViewPosition(y: number, currentRow: Row): Row {\n    const visibleRowsId: string[] = this.state.get('$data.list.visibleRows');\n    const visibleRows: Row[] = this.api.getRows(visibleRowsId);\n    for (const row of visibleRows) {\n      const rowBottom = row.$data.position.viewTop + row.$data.outerHeight;\n      if (row.$data.position.viewTop <= y && rowBottom >= y) return row;\n    }\n    return currentRow;\n  }\n\n  private getItemViewTop(item: Item): number {\n    const rows: Rows = this.api.getAllRows();\n    const row = rows[item.rowId];\n    return row.$data.position.viewTop + this.api.getItemData(item.id).position.actualTop;\n  }\n\n  private saveItemsRelativeVerticalPosition() {\n    for (const item of this.data.moving) {\n      const relativePosition = this.data.position.y - this.getItemViewTop(item);\n      this.setItemRelativeVerticalPosition(item, relativePosition);\n    }\n  }\n\n  private setItemRelativeVerticalPosition(item: Item, relativePosition: number) {\n    this.relativeVerticalPosition[item.id] = relativePosition;\n  }\n\n  private getItemRelativeVerticalPosition(item: Item): number {\n    return this.relativeVerticalPosition[item.id];\n  }\n\n  private moveItemVertically(item: Item): Row {\n    const rows: Rows = this.api.getAllRows();\n    const currentRow: Row = rows[item.rowId];\n    const relativePosition = this.getItemRelativeVerticalPosition(item);\n    const itemShouldBeAt = this.data.position.y + relativePosition;\n    return this.findRowAtViewPosition(itemShouldBeAt, currentRow);\n  }\n\n  private getEventArgument(afterItems: Item[]): OnArg {\n    const configItems = this.state.get('config.chart.items');\n    const before = [];\n    for (const item of afterItems) {\n      before.push(this.merge({}, configItems[item.id]) as Item);\n    }\n    return {\n      items: {\n        initial: this.data.initialItems,\n        before,\n        after: afterItems,\n        targetData: this.merge({}, this.data.targetData) as Item,\n      },\n      vido: this.vido,\n      state: this.state,\n      time: this.state.get('$data.chart.time'),\n    };\n  }\n\n  private moveItems() {\n    if (!this.data.enabled) return;\n    const time: DataChartTime = this.state.get('$data.chart.time');\n    const moving = this.data.moving.map((item) => this.merge({}, item) as Item);\n    if (this.data.debug) console.log('moveItems', moving); // eslint-disable-line no-console\n    for (let item of moving) {\n      item.rowId = this.moveItemVertically(item).id;\n      const newItemTimes = this.getItemMovingTimes(item, time);\n      if (newItemTimes.startTime.valueOf() !== item.time.start || newItemTimes.endTime.valueOf() !== item.time.end) {\n        item.time.start = newItemTimes.startTime.valueOf();\n        item.time.end = newItemTimes.endTime.valueOf();\n        const itemData = this.api.getItemData(item.id);\n        itemData.time.startDate = newItemTimes.startTime;\n        itemData.time.endDate = newItemTimes.endTime;\n        this.api.setItemData(item.id, itemData);\n      }\n    }\n    this.dispatchEvent('onMove', moving);\n  }\n\n  private clearSelection() {\n    this.data.moving = [];\n    this.data.initialItems = [];\n    this.data.movement.px.horizontal = 0;\n    this.data.movement.px.vertical = 0;\n    this.data.movement.time = 0;\n    this.data.pointerState = 'up';\n    this.data.pointerMoved = false;\n  }\n\n  private dispatchEvent(type: 'onStart' | 'onMove' | 'onEnd', items: Item[]) {\n    items = items.map((item) => this.merge({}, item) as Item);\n    const modified = this.data.events[type](this.getEventArgument(items));\n    let multi = this.state.multi();\n    for (const item of modified) {\n      multi = multi.update(`config.chart.items.${item.id}`, (currentItem) => {\n        // items should be always references - we cannot make a copy of the object because it may lead us to troubles\n        mergeDeep(currentItem, item);\n        return currentItem;\n      });\n    }\n    multi.done();\n    this.data.moving = modified;\n  }\n\n  private onStart() {\n    this.data.initialItems = this.data.moving.map((item) => this.merge({}, item) as Item);\n    this.clearCumulationsForItems();\n    document.body.classList.add(this.data.bodyClassMoving);\n    this.data.position = { ...this.selection.currentPosition };\n    this.data.lastMovement.time = this.data.moving[0].time.start;\n    this.saveItemsRelativeVerticalPosition();\n    const initial = this.data.initialItems.map((item) => this.merge({}, item) as Item);\n    this.dispatchEvent('onStart', initial);\n  }\n\n  private onEnd() {\n    const moving = this.data.moving.map((item) => this.merge({}, item) as Item);\n    this.dispatchEvent('onEnd', moving);\n    document.body.classList.remove(this.data.bodyClassMoving);\n    this.clearSelection();\n    this.clearCumulationsForItems();\n  }\n\n  private onSelectionChange(data: SelectionPluginData) {\n    if (!this.data.enabled) return;\n    this.selection = { ...data };\n    if (this.selection.targetType !== ITEM) {\n      return this.clearSelection();\n    }\n\n    if (this.data.pointerState === 'up' && this.selection.pointerState === 'down') {\n      this.data.state = 'start';\n    } else if (\n      (this.data.pointerState === 'down' || this.data.pointerState === 'move') &&\n      this.selection.pointerState === 'up'\n    ) {\n      this.data.state = 'end';\n    } else if (this.selection.pointerState === 'move') {\n      this.data.state = 'move';\n    } else {\n      this.data.state = '';\n      return this.updateData();\n    }\n\n    if (this.selection.events.move) {\n      this.selection.events.move.preventDefault();\n      this.selection.events.move.stopPropagation();\n    }\n    if (this.selection.events.down) {\n      this.selection.events.down.preventDefault();\n      this.selection.events.down.stopPropagation();\n    }\n\n    this.data.pointerState = this.selection.pointerState;\n    this.data.targetData = { ...this.selection.targetData };\n\n    if (this.data.state === 'end') this.onEnd(); // before this.selection.selected[ITEM] clear\n\n    this.data.moving = this.selection.selected[ITEM].map((itemId) => this.merge({}, this.api.getItem(itemId)) as Item);\n    if (this.data.debug) console.log('state', this.data.pointerState); // eslint-disable-line no-console\n\n    if (this.data.state === 'start') this.onStart();\n\n    if (this.data.state === 'move' || this.data.state === 'start') {\n      this.data.lastMovement.x = this.data.movement.px.horizontal;\n      this.data.lastMovement.y = this.data.movement.px.vertical;\n      this.data.movement.px.horizontal = this.selection.currentPosition.x - this.data.position.x;\n      this.data.movement.px.vertical = this.selection.currentPosition.y - this.data.position.y;\n      this.data.movement.time = this.data.moving[0].time.start - this.data.lastMovement.time;\n      this.data.position.x = this.selection.currentPosition.x;\n      this.data.position.y = this.selection.currentPosition.y;\n      this.data.lastMovement.time = this.data.moving[0].time.start;\n    }\n\n    if (\n      this.data.state === 'move' &&\n      this.data.lastMovement.x === this.data.movement.px.horizontal &&\n      this.data.lastMovement.y === this.data.movement.px.vertical\n    ) {\n      // prevent movement if there is no movement... (performance optimization)\n      return this.updateData();\n    }\n\n    if (this.data.state === 'move') this.moveItems();\n    this.updateData();\n  }\n}\n\nexport function Plugin(options: Options = {}) {\n  return function initialize(vidoInstance: Vido) {\n    const currentOptions = vidoInstance.state.get(pluginPath);\n    if (currentOptions) {\n      options = mergeDeep({}, options, currentOptions);\n    }\n    vidoInstance.state.update(pluginPath, generateEmptyPluginData(prepareOptions(options)));\n    const itemMovement = new ItemMovement(vidoInstance);\n    return itemMovement.destroy;\n  };\n}\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","class Action {\n  public isAction: boolean = true;\n}\nAction.prototype.isAction = true;\nexport default Action;\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){\"use strict\";var t=\"millisecond\",e=\"second\",n=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",o=\"quarter\",a=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},d={s:c,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,u),i=e-r<0,s=t.clone().add(n+(i?-1:1),u);return Number(-(n+(e-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:a,w:s,d:i,D:\"date\",h:r,m:n,s:e,ms:t,Q:o}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,e,n){var r;if(!t)return l;if(\"string\"==typeof t)m[t]&&(r=t),e&&(m[t]=e,r=t);else{var i=t.name;m[i]=t,r=i}return!n&&r&&(l=r),r||!n&&l},g=function(t,e){if(y(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new v(n)},D=d;D.l=M,D.i=y,D.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(e)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,e){var n=g(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return g(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<g(t)},d.$g=function(t,e,n){return D.u(t)?this[e]:this.set(n,t)},d.year=function(t){return this.$g(t,\"$y\",a)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",n)},d.second=function(t){return this.$g(t,\"$s\",e)},d.millisecond=function(e){return this.$g(e,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,e){var n=D.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return f?n:n.endOf(i)},$=function(t,e){return D.w(h.toDate()[t].apply(h.toDate(\"s\"),(f?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case n:return $(M+\"Seconds\",2);case e:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[a]=c+\"FullYear\",h[r]=c+\"Hours\",h[n]=c+\"Minutes\",h[e]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(e){var n=g(f);return D.w(n.date(n.date()+Math.round(e*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[n]=6e4,h[r]=36e5,h[e]=1e3,h)[c]||1,l=this.$d.getTime()+t*$;return D.w(l,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return\"Invalid Date\";var n=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,\"0\"),MMM:c(i.monthsShort,o,h,3),MMMM:c(h,o),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return n.replace(f,function(t,e){return e||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[n]=m/6e4,c[e]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=M(t,e,!0);return r&&(n.$L=r),n},d.clone=function(){return D.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,e){return t(e,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):t.dayjs_plugin_utc=i()}(this,function(){\"use strict\";return function(t,i,e){var s=(new Date).getTimezoneOffset(),n=i.prototype;e.utc=function(t){return new i({date:t,utc:!0,args:arguments})},n.utc=function(){return e(this.toDate(),{locale:this.$L,utc:!0})},n.local=function(){return e(this.toDate(),{locale:this.$L,utc:!1})};var u=n.parse;n.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),u.call(this,t)};var o=n.init;n.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else o.call(this)};var f=n.utcOffset;n.utcOffset=function(t){var i=this.$utils().u;if(i(t))return this.$u?0:i(this.$offset)?f.call(this):this.$offset;var e,n=Math.abs(t)<=16?60*t:t;return 0!==t?(e=this.local().add(n+s,\"minute\")).$offset=n:e=this.utc(),e};var r=n.format;n.format=function(t){var i=t||(this.$u?\"YYYY-MM-DDTHH:mm:ss[Z]\":\"\");return r.call(this,i)},n.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+s;return this.$d.valueOf()-6e4*t},n.isUTC=function(){return!!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};var a=n.toDate;n.toDate=function(t){return\"s\"===t&&this.$offset?e(this.format(\"YYYY-MM-DD HH:mm:ss:SSS\")).toDate():a.call(this)}}});\n","let wasm;\n\nlet WASM_VECTOR_LEN = 0;\n\nlet cachegetUint8Memory0 = null;\nfunction getUint8Memory0() {\n  if (cachegetUint8Memory0 === null || cachegetUint8Memory0.buffer !== wasm.memory.buffer) {\n    cachegetUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n  }\n  return cachegetUint8Memory0;\n}\n\nlet cachedTextEncoder = new TextEncoder(\"utf-8\");\n\nconst encodeString =\n  typeof cachedTextEncoder.encodeInto === \"function\"\n    ? function (arg, view) {\n        return cachedTextEncoder.encodeInto(arg, view);\n      }\n    : function (arg, view) {\n        const buf = cachedTextEncoder.encode(arg);\n        view.set(buf);\n        return {\n          read: arg.length,\n          written: buf.length,\n        };\n      };\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n  if (realloc === undefined) {\n    const buf = cachedTextEncoder.encode(arg);\n    const ptr = malloc(buf.length);\n    getUint8Memory0()\n      .subarray(ptr, ptr + buf.length)\n      .set(buf);\n    WASM_VECTOR_LEN = buf.length;\n    return ptr;\n  }\n\n  let len = arg.length;\n  let ptr = malloc(len);\n\n  const mem = getUint8Memory0();\n\n  let offset = 0;\n\n  for (; offset < len; offset++) {\n    const code = arg.charCodeAt(offset);\n    if (code > 0x7f) break;\n    mem[ptr + offset] = code;\n  }\n\n  if (offset !== len) {\n    if (offset !== 0) {\n      arg = arg.slice(offset);\n    }\n    ptr = realloc(ptr, len, (len = offset + arg.length * 3));\n    const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n    const ret = encodeString(arg, view);\n\n    offset += ret.written;\n  }\n\n  WASM_VECTOR_LEN = offset;\n  return ptr;\n}\n/**\n * @param {string} pattern\n * @param {string} input\n * @returns {boolean}\n */\nexport function is_match(pattern, input) {\n  var ptr0 = passStringToWasm0(pattern, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n  var len0 = WASM_VECTOR_LEN;\n  var ptr1 = passStringToWasm0(input, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n  var len1 = WASM_VECTOR_LEN;\n  var ret = wasm.is_match(ptr0, len0, ptr1, len1);\n  return ret !== 0;\n}\n\nasync function load(module, imports) {\n  if (typeof Response === \"function\" && module instanceof Response) {\n    if (typeof WebAssembly.instantiateStreaming === \"function\") {\n      try {\n        return await WebAssembly.instantiateStreaming(module, imports);\n      } catch (e) {\n        if (module.headers.get(\"Content-Type\") != \"application/wasm\") {\n          console.warn(\n            \"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\",\n            e\n          );\n        } else {\n          throw e;\n        }\n      }\n    }\n\n    const bytes = await module.arrayBuffer();\n    return await WebAssembly.instantiate(bytes, imports);\n  } else {\n    const instance = await WebAssembly.instantiate(module, imports);\n\n    if (instance instanceof WebAssembly.Instance) {\n      return { instance, module };\n    } else {\n      return instance;\n    }\n  }\n}\n\nasync function init(input) {\n  const imports = {};\n  if (\n    typeof input === \"string\" ||\n    (typeof Request === \"function\" && input instanceof Request) ||\n    (typeof URL === \"function\" && input instanceof URL)\n  ) {\n    input = fetch(input);\n  }\n  const { instance, module } = await load(await input, imports);\n  wasm = instance.exports;\n  init.__wbindgen_wasm_module = module;\n  return wasm;\n}\n\nexport default init;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updatable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({\n                            type: 'attribute',\n                            index,\n                            name,\n                            strings: statics,\n                            sanitizer: undefined\n                        });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n/**\n * Used to clone existing node instead of each time creating new one which is\n * slower\n */\nconst markerNode = document.createComment('');\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => markerNode.cloneNode();\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = \n// eslint-disable-next-line no-control-regex\n/([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\nlet policy;\n/**\n * Turns the value to trusted HTML. If the application uses Trusted Types the\n * value is transformed into TrustedHTML, which can be assigned to execution\n * sink. If the application doesn't use Trusted Types, the return value is the\n * same as the argument.\n */\nfunction convertConstantTemplateStringToTrustedHTML(value) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const w = window;\n    // TrustedTypes have been renamed to trustedTypes\n    // (https://github.com/WICG/trusted-types/issues/177)\n    const trustedTypes = (w.trustedTypes || w.TrustedTypes);\n    if (trustedTypes && !policy) {\n        policy = trustedTypes.createPolicy('lit-html', { createHTML: (s) => s });\n    }\n    return policy ? policy.createHTML(value) : value;\n}\nconst commentMarker = ` ${marker} `;\n/**\n * Used to clone existing node instead of each time creating new one which is\n * slower\n */\nconst emptyTemplateNode = document.createElement('template');\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment position.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = emptyTemplateNode.cloneNode();\n        // this is secure because `this.strings` is a TemplateStringsArray.\n        // TODO: validate this when\n        // https://github.com/tc39/proposal-array-is-template-object is implemented.\n        template.innerHTML =\n            convertConstantTemplateStringToTrustedHTML(this.getHTML());\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // tslint:disable-next-line: no-any\n        !!(value && value[Symbol.iterator]);\n};\nconst identityFunction = (value) => value;\nconst noopSanitizer = (_node, _name, _type) => identityFunction;\n/**\n * A global callback used to get a sanitizer for a given field.\n */\nexport let sanitizerFactory = noopSanitizer;\n/** Sets the global sanitizer factory. */\nexport const setSanitizerFactory = (newSanitizer) => {\n    if (sanitizerFactory !== noopSanitizer) {\n        throw new Error(`Attempted to overwrite existing lit-html security policy.` +\n            ` setSanitizeDOMValueFactory should be called at most once.`);\n    }\n    sanitizerFactory = newSanitizer;\n};\n/**\n * Only used in internal tests, not a part of the public API.\n * The name and implementation may change at any time.\n */\nexport const __testOnlyClearSanitizerFactoryDoNotCallOrElse = () => {\n    sanitizerFactory = noopSanitizer;\n};\n/**\n * Used to clone text node instead of each time creating new one which is slower\n */\nconst emptyTextNode = document.createTextNode('');\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attribute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings, \n    // Next breaking change, consider making this param required.\n    templatePart, kind = 'attribute') {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        let sanitizer = templatePart && templatePart.sanitizer;\n        if (sanitizer === undefined) {\n            sanitizer = sanitizerFactory(element, name, kind);\n            if (templatePart !== undefined) {\n                templatePart.sanitizer = sanitizer;\n            }\n        }\n        this.sanitizer = sanitizer;\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const parts = this.parts;\n        const l = strings.length - 1;\n        // If we're assigning an attribute via syntax like:\n        //    attr=\"${foo}\"  or  attr=${foo}\n        // but not\n        //    attr=\"${foo} ${bar}\" or attr=\"${foo} baz\"\n        // then we don't want to coerce the attribute value into one long\n        // string. Instead we want to just return the value itself directly,\n        // so that sanitizeDOMValue can get the actual value rather than\n        // String(value)\n        // The exception is if v is an array, in which case we do want to smash\n        // it together into a string without calling String() on the array.\n        //\n        // This also allows trusted values (when using TrustedTypes) being\n        // assigned to DOM sinks without being stringified in the process.\n        if (l === 1 && strings[0] === '' && strings[1] === '' &&\n            parts[0] !== undefined) {\n            const v = parts[0].value;\n            if (!isIterable(v)) {\n                return v;\n            }\n        }\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            let value = this._getValue();\n            value = this.sanitizer(value);\n            if (typeof value === 'symbol') {\n                // Native Symbols throw if they're coerced to string.\n                value = String(value);\n            }\n            this.element.setAttribute(this.name, value);\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            // tslint:disable-next-line: no-any\n            if (directive.isClass) {\n                // tslint:disable-next-line: no-any\n                directive.body(this);\n            }\n            else {\n                directive(this);\n            }\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options, templatePart) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        /**\n         * The sanitizer to use when writing text contents into this NodePart.\n         *\n         * We have to initialize this here rather than at the template literal level\n         * because the security of text content depends on the context into which\n         * it's written. e.g. the same text has different security requirements\n         * when a child of a <script> vs a <style> vs a <div>.\n         */\n        this.textSanitizer = undefined;\n        this.options = options;\n        this.templatePart = templatePart;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            // tslint:disable-next-line: no-any\n            if (directive.isClass) {\n                // tslint:disable-next-line: no-any\n                directive.body(this);\n            }\n            else {\n                directive(this);\n            }\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            if (this.textSanitizer === undefined) {\n                this.textSanitizer = sanitizerFactory(node, 'data', 'property');\n            }\n            const renderedValue = this.textSanitizer(value);\n            node.data = typeof renderedValue === 'string' ?\n                renderedValue :\n                String(renderedValue);\n        }\n        else {\n            // When setting text content, for security purposes it matters a lot what\n            // the parent is. For example, <style> and <script> need to be handled\n            // with care, while <span> does not. So first we need to put a text node\n            // into the document, then we can sanitize its contentx.\n            const textNode = emptyTextNode.cloneNode();\n            this.__commitNode(textNode);\n            if (this.textSanitizer === undefined) {\n                this.textSanitizer = sanitizerFactory(textNode, 'data', 'property');\n            }\n            const renderedValue = this.textSanitizer(value);\n            textNode.data = typeof renderedValue === 'string' ? renderedValue :\n                String(renderedValue);\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // `value` is a template result that was constructed without knowledge of\n            // the parent we're about to write it into. sanitizeDOMValue hasn't been\n            // made aware of this relationship, and for scripts and style specifically\n            // this is known to be unsafe. So in the case where the user is in\n            // \"secure mode\" (i.e. when there's a sanitizeDOMValue set), we just want\n            // to forbid this because it's not a use case we want to support.\n            // We only apply this policy when sanitizerFactory has been set to\n            // prevent this from being a breaking change to the library.\n            const parent = this.endNode.parentNode;\n            if (sanitizerFactory !== noopSanitizer && parent.nodeName === 'STYLE' ||\n                parent.nodeName === 'SCRIPT') {\n                this.__commitText('/* lit-html will not write ' +\n                    'TemplateResults to scripts and styles */');\n                return;\n            }\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options, this.templatePart);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            // tslint:disable-next-line: no-any\n            if (directive.isClass) {\n                // tslint:disable-next-line: no-any\n                directive.body(this);\n            }\n            else {\n                directive(this);\n            }\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings, \n    // Next breaking change, consider making this param required.\n    templatePart) {\n        super(element, name, strings, templatePart, 'property');\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            let value = this._getValue();\n            value = this.sanitizer(value);\n            // tslint:disable-next-line: no-any\n            this.element[this.name] = value;\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the third\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n// Wrap into an IIFE because MS Edge <= v41 does not support having try/catch\n// blocks right into the body of a module\n(() => {\n    try {\n        const options = {\n            get capture() {\n                eventOptionsSupported = true;\n                return false;\n            }\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.addEventListener('test', options, options);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.removeEventListener('test', options, options);\n    }\n    catch (_e) {\n        // noop\n    }\n})();\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            // tslint:disable-next-line: no-any\n            if (directive.isClass) {\n                // tslint:disable-next-line: no-any\n                directive.body(this);\n            }\n            else {\n                directive(this);\n            }\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, Directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart, sanitizerFactory, setSanitizerFactory } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\nconst isBrowser = typeof window !== 'undefined';\nif (isBrowser) {\n    // If we run in the browser set version\n    (window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.1.7');\n}\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nimport { createMarker, directive, NodePart } from '../lit-html.js';\n/**\n * A directive that renders the items of an async iterable[1], appending new\n * values after previous values, similar to the built-in support for iterables.\n *\n * Async iterables are objects with a [Symbol.asyncIterator] method, which\n * returns an iterator who's `next()` method returns a Promise. When a new\n * value is available, the Promise resolves and the value is appended to the\n * Part controlled by the directive. If another value other than this\n * directive has been set on the Part, the iterable will no longer be listened\n * to and new values won't be written to the Part.\n *\n * [1]: https://github.com/tc39/proposal-async-iteration\n *\n * @param value An async iterable\n * @param mapper An optional function that maps from (value, index) to another\n *     value. Useful for generating templates for each item in the iterable.\n */\nexport const asyncAppend = directive((value, mapper) => async (part) => {\n    var e_1, _a;\n    if (!(part instanceof NodePart)) {\n        throw new Error('asyncAppend can only be used in text bindings');\n    }\n    // If we've already set up this particular iterable, we don't need\n    // to do anything.\n    if (value === part.value) {\n        return;\n    }\n    part.value = value;\n    // We keep track of item Parts across iterations, so that we can\n    // share marker nodes between consecutive Parts.\n    let itemPart;\n    let i = 0;\n    try {\n        for (var value_1 = __asyncValues(value), value_1_1; value_1_1 = await value_1.next(), !value_1_1.done;) {\n            let v = value_1_1.value;\n            // Check to make sure that value is the still the current value of\n            // the part, and if not bail because a new value owns this part\n            if (part.value !== value) {\n                break;\n            }\n            // When we get the first value, clear the part. This lets the\n            // previous value display until we can replace it.\n            if (i === 0) {\n                part.clear();\n            }\n            // As a convenience, because functional-programming-style\n            // transforms of iterables and async iterables requires a library,\n            // we accept a mapper function. This is especially convenient for\n            // rendering a template for each item.\n            if (mapper !== undefined) {\n                // This is safe because T must otherwise be treated as unknown by\n                // the rest of the system.\n                v = mapper(v, i);\n            }\n            // Like with sync iterables, each item induces a Part, so we need\n            // to keep track of start and end nodes for the Part.\n            // Note: Because these Parts are not updatable like with a sync\n            // iterable (if we render a new value, we always clear), it may\n            // be possible to optimize away the Parts and just re-use the\n            // Part.setValue() logic.\n            let itemStartNode = part.startNode;\n            // Check to see if we have a previous item and Part\n            if (itemPart !== undefined) {\n                // Create a new node to separate the previous and next Parts\n                itemStartNode = createMarker();\n                // itemPart is currently the Part for the previous item. Set\n                // it's endNode to the node we'll use for the next Part's\n                // startNode.\n                itemPart.endNode = itemStartNode;\n                part.endNode.parentNode.insertBefore(itemStartNode, part.endNode);\n            }\n            itemPart = new NodePart(part.options, part.templatePart);\n            itemPart.insertAfterNode(itemStartNode);\n            itemPart.setValue(v);\n            itemPart.commit();\n            i++;\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (value_1_1 && !value_1_1.done && (_a = value_1.return)) await _a.call(value_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n});\n//# sourceMappingURL=async-append.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nimport { directive, NodePart } from '../lit-html.js';\n/**\n * A directive that renders the items of an async iterable[1], replacing\n * previous values with new values, so that only one value is ever rendered\n * at a time.\n *\n * Async iterables are objects with a [Symbol.asyncIterator] method, which\n * returns an iterator who's `next()` method returns a Promise. When a new\n * value is available, the Promise resolves and the value is rendered to the\n * Part controlled by the directive. If another value other than this\n * directive has been set on the Part, the iterable will no longer be listened\n * to and new values won't be written to the Part.\n *\n * [1]: https://github.com/tc39/proposal-async-iteration\n *\n * @param value An async iterable\n * @param mapper An optional function that maps from (value, index) to another\n *     value. Useful for generating templates for each item in the iterable.\n */\nexport const asyncReplace = directive((value, mapper) => async (part) => {\n    var e_1, _a;\n    if (!(part instanceof NodePart)) {\n        throw new Error('asyncReplace can only be used in text bindings');\n    }\n    // If we've already set up this particular iterable, we don't need\n    // to do anything.\n    if (value === part.value) {\n        return;\n    }\n    // We nest a new part to keep track of previous item values separately\n    // of the iterable as a value itself.\n    const itemPart = new NodePart(part.options, part.templatePart);\n    part.value = value;\n    let i = 0;\n    try {\n        for (var value_1 = __asyncValues(value), value_1_1; value_1_1 = await value_1.next(), !value_1_1.done;) {\n            let v = value_1_1.value;\n            // Check to make sure that value is the still the current value of\n            // the part, and if not bail because a new value owns this part\n            if (part.value !== value) {\n                break;\n            }\n            // When we get the first value, clear the part. This let's the\n            // previous value display until we can replace it.\n            if (i === 0) {\n                part.clear();\n                itemPart.appendIntoPart(part);\n            }\n            // As a convenience, because functional-programming-style\n            // transforms of iterables and async iterables requires a library,\n            // we accept a mapper function. This is especially convenient for\n            // rendering a template for each item.\n            if (mapper !== undefined) {\n                // This is safe because T must otherwise be treated as unknown by\n                // the rest of the system.\n                v = mapper(v, i);\n            }\n            itemPart.setValue(v);\n            itemPart.commit();\n            i++;\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (value_1_1 && !value_1_1.done && (_a = value_1.return)) await _a.call(value_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n});\n//# sourceMappingURL=async-replace.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isPrimitive } from '../lib/parts.js';\nimport { directive, NodePart } from '../lit-html.js';\n// For each part, remember the value that was last rendered to the part by the\n// unsafeHTML directive, and the DocumentFragment that was last set as a value.\n// The DocumentFragment is used as a unique key to check if the last value\n// rendered to the part was with unsafeHTML. If not, we'll always re-render the\n// value passed to unsafeHTML.\nconst previousValues = new WeakMap();\n/**\n * Used to clone existing node instead of each time creating new one which is\n * slower\n */\nconst emptyTemplateNode = document.createElement('template');\n/**\n * Renders the result as HTML, rather than text.\n *\n * Note, this is unsafe to use with any user-provided input that hasn't been\n * sanitized or escaped, as it may lead to cross-site-scripting\n * vulnerabilities.\n */\nexport const unsafeHTML = directive((value) => (part) => {\n    if (!(part instanceof NodePart)) {\n        throw new Error('unsafeHTML can only be used in text bindings');\n    }\n    const previousValue = previousValues.get(part);\n    if (previousValue !== undefined && isPrimitive(value) &&\n        value === previousValue.value && part.value === previousValue.fragment) {\n        return;\n    }\n    const template = emptyTemplateNode.cloneNode();\n    template.innerHTML = value; // innerHTML casts to string internally\n    const fragment = document.importNode(template.content, true);\n    part.setValue(fragment);\n    previousValues.set(part, { value, fragment });\n});\n//# sourceMappingURL=unsafe-html.js.map","import Action from './Action';\nexport interface Options {\n  element?: HTMLElement;\n  axis?: string;\n  threshold?: number;\n  onDown?: (data) => void;\n  onMove?: (data) => void;\n  onUp?: (data) => void;\n  onWheel?: (data) => void;\n}\n\nconst defaultOptions = {\n  element: document.createTextNode(''),\n  axis: 'xy',\n  threshold: 10,\n  onDown(data) {},\n  onMove(data) {},\n  onUp(data) {},\n  onWheel(data) {}\n};\n\nconst pointerEventsExists = typeof PointerEvent !== 'undefined';\nlet id = 0;\n\nexport default class PointerAction extends Action {\n  private id: number;\n  private moving: string = '';\n  private initialX: number = 0;\n  private initialY: number = 0;\n  private lastY: number = 0;\n  private lastX: number = 0;\n  private element: HTMLElement;\n  private options: Options;\n\n  constructor(element, data) {\n    super();\n    this.onPointerDown = this.onPointerDown.bind(this);\n    this.onPointerMove = this.onPointerMove.bind(this);\n    this.onPointerUp = this.onPointerUp.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n    this.element = element;\n    this.id = ++id;\n    this.options = { ...defaultOptions, ...data.pointerOptions } as Options;\n    if (pointerEventsExists) {\n      element.addEventListener('pointerdown', this.onPointerDown);\n      document.addEventListener('pointermove', this.onPointerMove);\n      document.addEventListener('pointerup', this.onPointerUp);\n    } else {\n      element.addEventListener('touchstart', this.onPointerDown);\n      document.addEventListener('touchmove', this.onPointerMove, { passive: false });\n      document.addEventListener('touchend', this.onPointerUp);\n      document.addEventListener('touchcancel', this.onPointerUp);\n      element.addEventListener('mousedown', this.onPointerDown);\n      document.addEventListener('mousemove', this.onPointerMove, { passive: false });\n      document.addEventListener('mouseup', this.onPointerUp);\n    }\n  }\n\n  private normalizeMouseWheelEvent(event) {\n    // @ts-ignore\n    let x = event.deltaX || 0;\n    // @ts-ignore\n    let y = event.deltaY || 0;\n    // @ts-ignore\n    let z = event.deltaZ || 0;\n    // @ts-ignore\n    const mode = event.deltaMode;\n    // @ts-ignore\n    const lineHeight = parseInt(getComputedStyle(event.target).getPropertyValue('line-height'));\n    let scale = 1;\n    switch (mode) {\n      case 1:\n        scale = lineHeight;\n        break;\n      case 2:\n        // @ts-ignore\n        scale = window.height;\n        break;\n    }\n    x *= scale;\n    y *= scale;\n    z *= scale;\n    return { x, y, z, event };\n  }\n\n  public onWheel(event) {\n    const normalized = this.normalizeMouseWheelEvent(event);\n    this.options.onWheel(normalized);\n  }\n\n  private normalizePointerEvent(event) {\n    let result = { x: 0, y: 0, pageX: 0, pageY: 0, clientX: 0, clientY: 0, screenX: 0, screenY: 0, event };\n    switch (event.type) {\n      case 'wheel':\n        const wheel = this.normalizeMouseWheelEvent(event);\n        result.x = wheel.x;\n        result.y = wheel.y;\n        result.pageX = result.x;\n        result.pageY = result.y;\n        result.screenX = result.x;\n        result.screenY = result.y;\n        result.clientX = result.x;\n        result.clientY = result.y;\n        break;\n      case 'touchstart':\n      case 'touchmove':\n      case 'touchend':\n      case 'touchcancel':\n        result.x = event.changedTouches[0].screenX;\n        result.y = event.changedTouches[0].screenY;\n        result.pageX = event.changedTouches[0].pageX;\n        result.pageY = event.changedTouches[0].pageY;\n        result.screenX = event.changedTouches[0].screenX;\n        result.screenY = event.changedTouches[0].screenY;\n        result.clientX = event.changedTouches[0].clientX;\n        result.clientY = event.changedTouches[0].clientY;\n        break;\n      default:\n        result.x = event.x;\n        result.y = event.y;\n        result.pageX = event.pageX;\n        result.pageY = event.pageY;\n        result.screenX = event.screenX;\n        result.screenY = event.screenY;\n        result.clientX = event.clientX;\n        result.clientY = event.clientY;\n        break;\n    }\n    return result;\n  }\n\n  private onPointerDown(event) {\n    if (event.type === 'mousedown' && event.button !== 0) return;\n    this.moving = 'xy';\n    const normalized = this.normalizePointerEvent(event);\n    this.lastX = normalized.x;\n    this.lastY = normalized.y;\n    this.initialX = normalized.x;\n    this.initialY = normalized.y;\n    this.options.onDown(normalized);\n  }\n\n  private handleX(normalized) {\n    let movementX = normalized.x - this.lastX;\n    this.lastY = normalized.y;\n    this.lastX = normalized.x;\n    return movementX;\n  }\n\n  private handleY(normalized) {\n    let movementY = normalized.y - this.lastY;\n    this.lastY = normalized.y;\n    this.lastX = normalized.x;\n    return movementY;\n  }\n\n  private onPointerMove(event) {\n    if (this.moving === '' || (event.type === 'mousemove' && event.button !== 0)) return;\n    const normalized = this.normalizePointerEvent(event);\n    if (this.options.axis === 'x|y') {\n      let movementX = 0,\n        movementY = 0;\n      if (\n        this.moving === 'x' ||\n        (this.moving === 'xy' && Math.abs(normalized.x - this.initialX) > this.options.threshold)\n      ) {\n        this.moving = 'x';\n        movementX = this.handleX(normalized);\n      }\n      if (\n        this.moving === 'y' ||\n        (this.moving === 'xy' && Math.abs(normalized.y - this.initialY) > this.options.threshold)\n      ) {\n        this.moving = 'y';\n        movementY = this.handleY(normalized);\n      }\n      this.options.onMove({\n        movementX,\n        movementY,\n        x: normalized.x,\n        y: normalized.y,\n        initialX: this.initialX,\n        initialY: this.initialY,\n        lastX: this.lastX,\n        lastY: this.lastY,\n        event\n      });\n    } else if (this.options.axis === 'xy') {\n      let movementX = 0,\n        movementY = 0;\n      if (Math.abs(normalized.x - this.initialX) > this.options.threshold) {\n        movementX = this.handleX(normalized);\n      }\n      if (Math.abs(normalized.y - this.initialY) > this.options.threshold) {\n        movementY = this.handleY(normalized);\n      }\n      this.options.onMove({\n        movementX,\n        movementY,\n        x: normalized.x,\n        y: normalized.y,\n        initialX: this.initialX,\n        initialY: this.initialY,\n        lastX: this.lastX,\n        lastY: this.lastY,\n        event\n      });\n    } else if (this.options.axis === 'x') {\n      if (\n        this.moving === 'x' ||\n        (this.moving === 'xy' && Math.abs(normalized.x - this.initialX) > this.options.threshold)\n      ) {\n        this.moving = 'x';\n        this.options.onMove({\n          movementX: this.handleX(normalized),\n          movementY: 0,\n          initialX: this.initialX,\n          initialY: this.initialY,\n          lastX: this.lastX,\n          lastY: this.lastY,\n          event\n        });\n      }\n    } else if (this.options.axis === 'y') {\n      let movementY = 0;\n      if (\n        this.moving === 'y' ||\n        (this.moving === 'xy' && Math.abs(normalized.y - this.initialY) > this.options.threshold)\n      ) {\n        this.moving = 'y';\n        movementY = this.handleY(normalized);\n      }\n      this.options.onMove({\n        movementX: 0,\n        movementY,\n        x: normalized.x,\n        y: normalized.y,\n        initialX: this.initialX,\n        initialY: this.initialY,\n        lastX: this.lastX,\n        lastY: this.lastY,\n        event\n      });\n    }\n  }\n\n  private onPointerUp(event) {\n    this.moving = '';\n    const normalized = this.normalizePointerEvent(event);\n    this.options.onUp({\n      movementX: 0,\n      movementY: 0,\n      x: normalized.x,\n      y: normalized.y,\n      initialX: this.initialX,\n      initialY: this.initialY,\n      lastX: this.lastX,\n      lastY: this.lastY,\n      event\n    });\n    this.lastY = 0;\n    this.lastX = 0;\n  }\n\n  public destroy(element) {\n    if (pointerEventsExists) {\n      element.removeEventListener('pointerdown', this.onPointerDown);\n      document.removeEventListener('pointermove', this.onPointerMove);\n      document.removeEventListener('pointerup', this.onPointerUp);\n    } else {\n      element.removeEventListener('mousedown', this.onPointerDown);\n      document.removeEventListener('mousemove', this.onPointerMove);\n      document.removeEventListener('mouseup', this.onPointerUp);\n      element.removeEventListener('touchstart', this.onPointerDown);\n      document.removeEventListener('touchmove', this.onPointerMove);\n      document.removeEventListener('touchend', this.onPointerUp);\n      document.removeEventListener('touchcancel', this.onPointerUp);\n    }\n  }\n}\n","/**\n * Api functions\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0\n */\n\nimport defaultConfigFn from '../default-config';\nimport { Time } from './time';\nimport State from 'deep-state-observer';\n//import State from '../../../deep-state-observer';\nimport DeepState from 'deep-state-observer';\n//import DeepState from '../../../deep-state-observer';\nimport dayjs from 'dayjs';\nimport {\n  Config,\n  Period,\n  DataChartTime,\n  ScrollTypeHorizontal,\n  Row,\n  Item,\n  Vido,\n  Items,\n  DefaultItem,\n  DataChartTimeLevelDate,\n  ScrollTypeVertical,\n  Rows,\n  GridCell,\n  GridRows,\n  GridRow,\n  GridCells,\n  DataItems,\n  ItemData,\n  ItemDataUpdate,\n  ChartTime,\n} from '../gstc';\nimport { generateSlots } from './slots';\nimport { lithtml } from '@neuronet.io/vido/src/vido';\nimport helpers from '@neuronet.io/vido/src/helpers';\nconst mergeDeep = helpers.mergeDeep;\n\nconst lib = 'gstc';\n\nexport function getClass(name: string, appendix: string = '') {\n  let simple = `${lib}__${name}`;\n  if (name === lib) {\n    simple = lib;\n  }\n  if (appendix) return `${simple} ${simple}--${appendix.replace(':', '-')}`;\n  return simple;\n}\n\nexport function getId(name: string, id: string) {\n  let simple = `${lib}__${name}`;\n  if (name === lib) {\n    simple = lib;\n  }\n  return `${simple}--${id}`;\n}\n\nfunction mergeActions(userConfig: Config, defaultConfig: Config, merge) {\n  const defaultConfigActions = merge({}, defaultConfig.actions);\n  const userActions = merge({}, userConfig.actions);\n  let allActionNames = [...Object.keys(defaultConfigActions), ...Object.keys(userActions)];\n  allActionNames = allActionNames.filter((i) => allActionNames.includes(i));\n  const actions = {};\n  for (const actionName of allActionNames) {\n    actions[actionName] = [];\n    if (typeof defaultConfigActions[actionName] !== 'undefined' && Array.isArray(defaultConfigActions[actionName])) {\n      actions[actionName] = [...defaultConfigActions[actionName]];\n    }\n    if (typeof userActions[actionName] !== 'undefined' && Array.isArray(userActions[actionName])) {\n      actions[actionName] = [...actions[actionName], ...userActions[actionName]];\n    }\n  }\n  delete userConfig.actions;\n  delete defaultConfig.actions;\n  return actions;\n}\n\nexport function prepareState(userConfig: Config) {\n  let merge = function merge(target: object, source: object) {\n    return helpers.mergeDeep(target, source);\n  };\n  if (typeof userConfig.merge === 'function') merge = userConfig.merge;\n  const defaultConfig: Config = defaultConfigFn();\n  const actions = mergeActions(userConfig, defaultConfig, merge);\n  const state = { config: merge(defaultConfig, userConfig) };\n  state.config.actions = actions;\n  return state;\n}\n\nexport function stateFromConfig(userConfig: Config) {\n  // @ts-ignore\n  return (this.state = new State(prepareState(userConfig), {\n    delimeter: '.',\n    maxSimultaneousJobs: 1000,\n    Promise: userConfig.Promise,\n  }));\n}\n\nexport async function wasmStateFromConfig(userConfig: Config, wasmFile: string = './wildcard_matcher_bg.wasm') {\n  // @ts-ignore\n  this.state = new State(prepareState(userConfig), { delimeter: '.', maxSimultaneousJobs: 1000 });\n  await this.state.loadWasmMatcher(wasmFile);\n  return this.state;\n}\n\nexport const publicApi = {\n  name: lib,\n  stateFromConfig,\n  wasmStateFromConfig,\n  merge: mergeDeep,\n  lithtml,\n  date(time) {\n    return time ? dayjs(time) : dayjs();\n  },\n  setPeriod(period: Period): number {\n    this.state.update('config.chart.time.period', period);\n    return this.state.get('config.chart.time.zoom');\n  },\n  dayjs,\n};\n\nexport interface WheelResult {\n  x: number;\n  y: number;\n  z: number;\n  event: MouseWheelEvent;\n}\n\nexport interface IconsCache {\n  [key: string]: string;\n}\n\nexport type Unsubscribes = (() => void)[];\n\nexport class Api {\n  public name = lib;\n  public debug = false;\n  public state: DeepState;\n  public time: Time;\n  public vido: Vido;\n  public plugins: any = {};\n  public iconsCache: IconsCache = {};\n  public unsubscribes: Unsubscribes = [];\n\n  constructor(state: DeepState) {\n    this.state = state;\n    this.time = new Time(this.state, this);\n    this.unsubscribes.push(this.state.subscribe('config.debug', (dbg) => (this.debug = dbg)));\n    if (this.debug) {\n      // @ts-ignore\n      window.state = state;\n    }\n  }\n\n  setVido(Vido: Vido) {\n    this.vido = Vido;\n  }\n\n  log(...args) {\n    if (this.debug) {\n      // eslint-disable-next-line no-console\n      console.log.call(console, ...args);\n    }\n  }\n\n  generateSlots = generateSlots;\n  mergeDeep = mergeDeep;\n  getClass = getClass;\n  getId = getId;\n  allActions = [];\n\n  public getActions(name: string) {\n    if (!this.allActions.includes(name)) this.allActions.push(name);\n    let actions = this.state.get('config.actions.' + name);\n    if (typeof actions === 'undefined') {\n      actions = [];\n    }\n    return actions.slice();\n  }\n\n  public isItemInViewport(item: Item, leftGlobal: number = undefined, rightGlobal: number = undefined) {\n    if (!leftGlobal || !rightGlobal) {\n      const time: ChartTime = this.state.get('config.chart.time');\n      leftGlobal = time.leftGlobal;\n      rightGlobal = time.rightGlobal;\n    }\n    return item.time.start <= rightGlobal && item.time.end >= leftGlobal;\n  }\n\n  getAllLinkedItemsIds(item: Item, items: Items, allLinked: string[] = []) {\n    if (item.linkedWith && item.linkedWith.length) {\n      if (!allLinked.includes(item.id)) allLinked.push(item.id);\n      for (const linkedItemId of item.linkedWith) {\n        if (allLinked.includes(linkedItemId)) continue;\n        allLinked.push(linkedItemId);\n        const linkedItem = items[linkedItemId];\n        if (!linkedItem)\n          throw new Error(`Linked item not found [id:'${linkedItemId}'] found in item [id:'${item.id}']`);\n        if (linkedItem.linkedWith && linkedItem.linkedWith.length)\n          this.getAllLinkedItemsIds(linkedItem, items, allLinked);\n      }\n    }\n    return allLinked;\n  }\n\n  public getRow(rowId: string): Row {\n    return this.state.get(`config.list.rows.${rowId}`) as Row;\n  }\n\n  public getRows(rowsId: string[]): Row[] {\n    if (!rowsId.length) return [];\n    const configRows: Rows = this.getAllRows();\n    const rows = [];\n    for (const rowId of rowsId) {\n      if (configRows[rowId]) rows.push(configRows[rowId]);\n    }\n    return rows;\n  }\n\n  public getAllRows(): Rows {\n    return this.state.get('config.list.rows');\n  }\n\n  public getItem(itemId: string): Item {\n    return this.state.get(`config.chart.items.${itemId}`) as Item;\n  }\n\n  public getItems(itemsId: string[] = []): Item[] {\n    if (!itemsId.length) return Object.values(this.getAllItems());\n    const items = [];\n    const configItems: Items = this.getAllItems();\n    for (const itemId of itemsId) {\n      if (configItems[itemId]) items.push(configItems[itemId]);\n    }\n    return items;\n  }\n\n  public getAllItems(): Items {\n    return this.state.get('config.chart.items');\n  }\n\n  public getItemData(itemId: string): ItemData {\n    return this.state.get(`$data.chart.items.${itemId}`);\n  }\n\n  public getItemsData(): DataItems {\n    return this.state.get(`$data.chart.items`);\n  }\n\n  public setItemData(itemId: string, data: ItemDataUpdate) {\n    this.state.update(`$data.chart.items.${itemId}`, (currentData: ItemData) => {\n      for (const key in data) {\n        currentData[key] = data[key];\n      }\n      return currentData;\n    });\n  }\n\n  public setItemsData(data: DataItems) {\n    this.state.update('$data.chart.items', data);\n  }\n\n  public prepareLinkedItems(item: Item, items: Items) {\n    const allLinkedIds = this.getAllLinkedItemsIds(item, items);\n    for (const linkedItemId of allLinkedIds) {\n      const linkedItem = items[linkedItemId];\n      if (!linkedItem) throw new Error(`Linked item not found [id:'${linkedItemId}'] found in item [id:'${item.id}']`);\n      linkedItem.linkedWith = allLinkedIds.filter((linkedItemId) => linkedItemId !== linkedItem.id);\n    }\n  }\n\n  public prepareItems(items: Items) {\n    const defaultItemHeight = this.state.get('config.chart.item.height');\n    const itemsData = this.getItemsData();\n    for (let itemId in items) {\n      const item = items[itemId];\n      itemId = String(itemId);\n      item.id = itemId;\n      if (itemsData[itemId]) return items; // do not iterate whole items if $data is present\n      this.prepareLinkedItems(item, items);\n      item.time.start = +item.time.start;\n      item.time.end = +item.time.end;\n      item.id = String(item.id);\n      const defaultItem: DefaultItem = this.state.get('config.chart.item');\n      if (typeof item.height !== 'number') item.height = defaultItemHeight;\n      if (!itemsData[item.id])\n        itemsData[item.id] = {\n          actualHeight: 0,\n          outerHeight: 0,\n          time: null,\n          position: {\n            left: 0,\n            actualLeft: 0,\n            right: 0,\n            actualRight: 0,\n            top: item.top || 0,\n            actualTop: item.top || 0,\n            viewTop: 0,\n          },\n          width: -1,\n          actualWidth: -1,\n          detached: false,\n        };\n      itemsData[item.id].time = {\n        startDate: this.time.date(item.time.start),\n        endDate: this.time.date(item.time.end),\n      };\n      itemsData[item.id].actualHeight = item.height;\n      if (typeof item.top !== 'number') item.top = 0;\n      if (!item.gap) item.gap = {};\n      if (typeof item.gap.top !== 'number') item.gap.top = defaultItem.gap.top;\n      if (typeof item.gap.bottom !== 'number') item.gap.bottom = defaultItem.gap.bottom;\n      if (typeof item.minWidth !== 'number') item.minWidth = defaultItem.minWidth;\n      itemsData[item.id].outerHeight = itemsData[item.id].actualHeight + item.gap.top + item.gap.bottom;\n      itemsData[item.id].position.actualTop = itemsData[item.id].position.top + item.gap.top;\n    }\n    this.setItemsData(itemsData);\n    return items;\n  }\n\n  public fillEmptyRowValues(rows: Rows) {\n    const defaultHeight = this.state.get('config.list.row.height');\n    let top = 0;\n    for (let rowId in rows) {\n      const row = rows[rowId];\n      rowId = String(rowId);\n      row.id = rowId;\n      if (row.$data) return rows; // do not iterate whole tree when $data is present\n      if (!row.$data)\n        row.$data = {\n          parents: [],\n          children: [],\n          position: {\n            top: 0,\n            topPercent: 0,\n            bottomPercent: 0,\n            viewTop: 0,\n          },\n          items: [],\n          actualHeight: 0,\n          outerHeight: 0,\n        };\n      if (typeof row.height !== 'number') {\n        row.height = defaultHeight;\n      }\n      row.$data.actualHeight = row.height;\n      if (typeof row.expanded !== 'boolean') {\n        row.expanded = false;\n      }\n      row.$data.position.top = top;\n      if (typeof row.gap !== 'object') row.gap = {};\n      if (typeof row.gap.top !== 'number') row.gap.top = 0;\n      if (typeof row.gap.bottom !== 'number') row.gap.bottom = 0;\n      row.$data.outerHeight = row.$data.actualHeight + row.gap.top + row.gap.bottom;\n      top += row.$data.outerHeight;\n    }\n    return rows;\n  }\n\n  public itemsOnTheSameLevel(item1: Item, item2: Item) {\n    const item1Data = this.getItemData(item1.id);\n    const item2Data = this.getItemData(item2.id);\n    const item1Bottom = item1Data.position.top + item1Data.outerHeight;\n    const item2Bottom = item2Data.position.top + item2Data.outerHeight;\n    if (item2Data.position.top <= item1Data.position.top && item2Bottom > item1Data.position.top) return true;\n    if (item2Data.position.top >= item1Data.position.top && item2Data.position.top < item1Bottom) return true;\n    if (item2Data.position.top >= item1Data.position.top && item2Bottom < item1Bottom) return true;\n    return false;\n  }\n\n  public itemsOverlaps(item1: Item, item2: Item): boolean {\n    if (this.itemsOnTheSameLevel(item1, item2)) {\n      if (item2.time.start >= item1.time.start && item2.time.start <= item1.time.end) return true;\n      if (item2.time.end >= item1.time.start && item2.time.end <= item1.time.end) return true;\n      if (item2.time.start >= item1.time.start && item2.time.end <= item1.time.end) return true;\n      if (item2.time.start <= item1.time.start && item2.time.end >= item1.time.end) return true;\n      return false;\n    }\n    return false;\n  }\n\n  public itemOverlapsWithOthers(item: Item, items: Item[]): Item {\n    for (let i = 0, len = items.length; i < len; i++) {\n      const item2 = items[i];\n      const nonZeroTime = item2.time.start && item.time.start && item2.time.end && item.time.end;\n      if (item.id !== item2.id && this.itemsOverlaps(item, item2) && nonZeroTime) return item2;\n    }\n    return null;\n  }\n\n  public fixOverlappedItems(rowItems: Item[]) {\n    if (rowItems.length === 0) return;\n    let index = 0;\n    for (let item of rowItems) {\n      const itemData = this.getItemData(item.id);\n      itemData.position.top = item.top;\n      itemData.position.actualTop = itemData.position.top + item.gap.top;\n      let overlaps = this.itemOverlapsWithOthers(item, rowItems);\n      if (index && overlaps) {\n        const overlapsData = this.getItemData(overlaps.id);\n        while ((overlaps = this.itemOverlapsWithOthers(item, rowItems))) {\n          itemData.position.top += overlapsData.outerHeight;\n          itemData.position.actualTop = itemData.position.top + item.gap.top;\n        }\n      }\n      this.setItemData(item.id, itemData);\n      index++;\n    }\n  }\n\n  public recalculateRowHeight(row: Row, fixOverlapped = false): number {\n    if (!row.$data) return 0;\n    let actualHeight = 0;\n    if (fixOverlapped) {\n      const rowItems = this.getItems(row.$data.items);\n      this.fixOverlappedItems(rowItems);\n      row.$data.items = rowItems.map((item) => item.id);\n    }\n    const itemsData = this.getItemsData();\n    for (const item of this.getItems(row.$data.items)) {\n      const itemData = itemsData[item.id];\n      actualHeight = Math.max(actualHeight, itemData.position.top + itemData.outerHeight);\n    }\n    if (actualHeight < row.height) actualHeight = row.height;\n    row.$data.actualHeight = actualHeight;\n    row.$data.outerHeight = row.$data.actualHeight + row.gap.top + row.gap.bottom;\n    return row.$data.outerHeight;\n  }\n\n  public recalculateRowsHeightsAndFixOverlappingItems(rowsId: string[]): number {\n    let top = 0;\n    const rows: Rows = this.getAllRows();\n    for (const rowId of rowsId) {\n      const row = rows[rowId];\n      this.recalculateRowHeight(row, true);\n      row.$data.position.top = top;\n      top += row.$data.outerHeight;\n    }\n    return top;\n  }\n\n  public recalculateRowsPercents(rowsId: string[], verticalAreaHeight: number) {\n    let top = 0;\n    const rows: Rows = this.getAllRows();\n    for (const rowId of rowsId) {\n      const row = rows[rowId];\n      if (verticalAreaHeight <= 0) {\n        row.$data.position.topPercent = 0;\n        row.$data.position.bottomPercent = 0;\n      } else {\n        row.$data.position.topPercent = top ? top / verticalAreaHeight : 0;\n        row.$data.position.bottomPercent = (top + row.$data.outerHeight) / verticalAreaHeight;\n      }\n      top += row.$data.outerHeight;\n    }\n  }\n\n  public generateParents(rows: Rows | Items, parentName = 'parentId') {\n    const parents = {};\n    for (const rowId in rows) {\n      const row = rows[rowId];\n      const parentId = row[parentName] !== undefined && row[parentName] !== null ? row[parentName] : '';\n      if (parents[parentId] === undefined) {\n        parents[parentId] = {};\n      }\n      parents[parentId][row.id] = row;\n    }\n    return parents;\n  }\n\n  public fastTree(rowParents, node, parents = []) {\n    const children = rowParents[node.id];\n    node.$data.parents = parents;\n    if (typeof children === 'undefined') {\n      node.$data.children = [];\n      return node;\n    }\n    if (node.id !== '') {\n      parents = [...parents, node.id];\n    }\n    node.$data.children = Object.values(children).map((child: Item | Row) => child.id);\n    for (const childrenId in children) {\n      const child = children[childrenId];\n      this.fastTree(rowParents, child, parents);\n    }\n    return node;\n  }\n\n  public makeTreeMap(rows: Rows, items: Items) {\n    const itemParents: Items = this.generateParents(items, 'rowId');\n    for (const rowId in rows) {\n      if (!rows[rowId].$data) return;\n      rows[rowId].$data.items.length = 0;\n      if (itemParents[rowId] !== undefined) {\n        for (const parent of Object.values(itemParents[rowId])) {\n          rows[rowId].$data.items.push(parent.id);\n        }\n      }\n    }\n    const rowParents = this.generateParents(rows);\n    const tree = { id: '', $data: { children: [], parents: [], items: [] } };\n    return this.fastTree(rowParents, tree);\n  }\n\n  public getRowsWithParentsExpanded(rows: Rows) {\n    const rowsWithParentsExpanded = [];\n    next: for (const rowId in rows) {\n      if (!rows[rowId].$data || !rows[rowId].$data.parents) return [];\n      for (const parentId of rows[rowId].$data.parents) {\n        const parent = rows[parentId];\n        if (!parent || !parent.expanded) {\n          continue next;\n        }\n      }\n      rowsWithParentsExpanded.push(rowId);\n    }\n    return rowsWithParentsExpanded;\n  }\n\n  public getVisibleRows(rowsWithParentsExpanded: string[]): string[] {\n    if (this.debug) console.log('getVisibleRows #1', { rowsWithParentsExpanded }); // eslint-disable-line no-console\n    if (rowsWithParentsExpanded.length === 0) return [];\n    const visibleRows = [];\n    const verticalScroll = this.state.get('config.scroll.vertical');\n    let topRow = verticalScroll.data;\n    if (this.debug) console.log('getVisibleRows #2', { topRow }); // eslint-disable-line no-console\n    if (!topRow) topRow = rowsWithParentsExpanded[0];\n    let innerHeight = this.state.get('$data.innerHeight');\n    if (this.debug) console.log('getVisibleRows #3', { innerHeight }); // eslint-disable-line no-console\n    if (!innerHeight) return [];\n    const rows: Rows = this.getAllRows();\n    innerHeight += verticalScroll.offset || 0;\n    let strictTopRow = rowsWithParentsExpanded.find((rowId) => rowId === topRow.id);\n    let index = rowsWithParentsExpanded.indexOf(strictTopRow);\n    if (this.debug) console.log('getVisibleRows #4', { index }); // eslint-disable-line no-console\n    if (index === undefined) return [];\n    let currentRowsOffset = 0;\n    for (let len = rowsWithParentsExpanded.length; index < len; index++) {\n      const rowId = rowsWithParentsExpanded[index];\n      const row = rows[rowId];\n      if (!row || !row.$data) {\n        if (this.debug) console.log('getVisibleItems NO-ROW', { row, rowId, rows, index, rowsWithParentsExpanded }); // eslint-disable-line no-console\n        return [];\n      }\n      if (currentRowsOffset <= innerHeight) {\n        row.$data.position.viewTop = currentRowsOffset;\n        visibleRows.push(row.id);\n      }\n      currentRowsOffset += row.$data.outerHeight;\n      if (currentRowsOffset >= innerHeight) {\n        break;\n      }\n    }\n    if (this.debug) console.log('getVisibleRows #5 final', { visibleRows, innerHeight, topRow, index }); // eslint-disable-line no-console\n    return visibleRows;\n  }\n\n  public normalizeMouseWheelEvent(event: MouseWheelEvent): WheelResult {\n    let x = event.deltaX || 0;\n    let y = event.deltaY || 0;\n    let z = event.deltaZ || 0;\n    const mode = event.deltaMode;\n    const lineHeight = this.state.get('config.list.rowHeight');\n    let scale = 1;\n    switch (mode) {\n      case 1:\n        if (lineHeight) {\n          scale = lineHeight;\n        }\n        break;\n      case 2:\n        // @ts-ignore\n        scale = window.height;\n        break;\n    }\n    x *= scale;\n    y *= scale;\n    z *= scale;\n    return { x, y, z, event };\n  }\n\n  public scrollToTime(\n    toTime: number,\n    centered = true,\n    time: DataChartTime = this.state.get('$data.chart.time')\n  ): number {\n    if (!time.allDates) return 0;\n    if (centered) {\n      const chartWidth = this.state.get('$data.chart.dimensions.width');\n      const halfChartTime = (chartWidth / 2) * time.timePerPixel;\n      toTime = toTime - halfChartTime;\n    }\n    const data = this.time.findDateAtTime(toTime, time.allDates[time.level]);\n    let dataIndex = time.allDates[time.level].indexOf(data);\n    if (dataIndex === -1) return 0;\n    return this.setScrollLeft(dataIndex, time).posPx;\n  }\n\n  public setScrollLeft(\n    dataIndex: number | undefined,\n    time: DataChartTime = this.state.get('$data.chart.time'),\n    multi = undefined,\n    recalculateTimesLastReason = 'scroll'\n  ) {\n    if (dataIndex === undefined) {\n      dataIndex = 0;\n    }\n    let hadMulti = true;\n    if (multi === undefined) {\n      hadMulti = false;\n      multi = this.state.multi();\n    }\n    const allDates = time.allDates[time.level];\n    if (!allDates) return;\n    const date: DataChartTimeLevelDate = allDates[dataIndex];\n    if (!date) return;\n    let result;\n    multi = multi.update('config.scroll.horizontal', (scrollHorizontal: ScrollTypeHorizontal) => {\n      scrollHorizontal.data = { ...date };\n      const max = time.allDates[time.level].length - scrollHorizontal.lastPageCount;\n      if (dataIndex > max) {\n        dataIndex = max;\n      }\n      scrollHorizontal.dataIndex = dataIndex;\n      scrollHorizontal.posPx = this.time.calculateScrollPosPxFromTime(\n        scrollHorizontal.data.leftGlobal,\n        time,\n        scrollHorizontal\n      );\n      const maxPos = scrollHorizontal.maxPosPx - scrollHorizontal.innerSize;\n      if (scrollHorizontal.posPx > maxPos) scrollHorizontal.posPx = maxPos;\n      result = scrollHorizontal;\n      return scrollHorizontal;\n    });\n    if (recalculateTimesLastReason) {\n      multi = multi.update('$data.chart.time.recalculateTimesLastReason', recalculateTimesLastReason);\n    }\n    if (hadMulti) return multi;\n    multi.done();\n    return result;\n  }\n\n  public getScrollLeft(): ScrollTypeHorizontal {\n    return this.state.get('config.scroll.horizontal');\n  }\n\n  public setScrollTop(dataIndex: number | undefined, offset: number = 0) {\n    if (dataIndex === undefined) {\n      dataIndex = 0;\n    }\n    const rowsId: string[] = this.state.get('$data.list.rowsWithParentsExpanded');\n    const rows = this.getRows(rowsId);\n    if (!rows[dataIndex] && dataIndex !== 0) dataIndex = 0;\n    if (!rows[dataIndex]) return;\n    this.state.update('config.scroll.vertical', (scrollVertical: ScrollTypeVertical) => {\n      const lastItemIndex = rows.length - scrollVertical.lastPageCount;\n      if (dataIndex + scrollVertical.lastPageCount > rows.length) {\n        dataIndex = lastItemIndex;\n      }\n      if (dataIndex === lastItemIndex) {\n        offset = 0;\n      }\n      scrollVertical.data = rows[dataIndex];\n      scrollVertical.offset = offset;\n      scrollVertical.posPx =\n        rows[dataIndex].$data.position.topPercent * scrollVertical.maxPosPx +\n        Math.floor(scrollVertical.scrollArea * (offset / scrollVertical.area));\n      scrollVertical.dataIndex = dataIndex;\n      return scrollVertical;\n    });\n  }\n\n  public getScrollTop(): ScrollTypeVertical {\n    return this.state.get('config.scroll.vertical');\n  }\n\n  public getGridCells(cellIds: string[] = undefined): GridCell[] {\n    const allCells: GridCells = this.state.get('$data.chart.grid.cells');\n    if (typeof cellIds !== 'undefined') {\n      return allCells ? Object.values(allCells).filter((cell) => cellIds.includes(cell.id)) : [];\n    }\n    if (!allCells) return [];\n    return Object.values(allCells);\n  }\n\n  public getGridRows(rowIds: string[] = undefined): GridRow[] {\n    const allRows: GridRows = this.state.get('$data.chart.grid.rows');\n    if (typeof rowIds !== 'undefined') {\n      return allRows ? Object.values(allRows).filter((row) => rowIds.includes(row.row.id)) : [];\n    }\n    if (!allRows) return [];\n    return Object.values(allRows);\n  }\n\n  public getGridCell(cellId: string): GridCell {\n    return this.state.get(`$data.chart.grid.cells.${cellId}`);\n  }\n\n  public getGridRow(rowId: string): GridRow {\n    return this.state.get(`$data.chart.grid.rows.${rowId}`);\n  }\n\n  public getSVGIconSrc(svg) {\n    if (typeof this.iconsCache[svg] === 'string') return this.iconsCache[svg];\n    this.iconsCache[svg] = 'data:image/svg+xml;base64,' + btoa(svg);\n    return this.iconsCache[svg];\n  }\n\n  /**\n   * Destroy things to release memory\n   */\n  destroy() {\n    for (const unsubscribe of this.unsubscribes) {\n      unsubscribe();\n    }\n    this.unsubscribes = [];\n    if (this.debug) {\n      // @ts-ignore\n      delete window.state;\n    }\n  }\n}\n","/**\n * ItemResizing plugin\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n\nimport { Vido, Wrapper, htmlResult, Item, DataChartTime, ItemData, DataItems } from '../gstc';\nimport DeepState from 'deep-state-observer';\nimport { Api, getClass } from '../api/api';\nimport { lithtml } from '@neuronet.io/vido/src/vido';\nimport { Point, ITEM } from './timeline-pointer.plugin';\nimport { Dayjs } from 'dayjs';\nimport { mergeDeep } from '@neuronet.io/vido/src/helpers';\n\nexport interface Handle {\n  width?: number;\n  horizontalMargin?: number;\n  verticalMargin?: number;\n  outside?: boolean;\n  onlyWhenSelected?: boolean;\n}\n\nexport interface SnapArg {\n  item: Item;\n  time: DataChartTime;\n  vido: Vido;\n  movement: Movement;\n}\n\nexport interface SnapStartArg extends SnapArg {\n  startTime: Dayjs;\n}\n\nexport interface SnapEndArg extends SnapArg {\n  endTime: Dayjs;\n}\n\nexport interface Movement {\n  px: number;\n  time: number;\n}\n\nexport interface SnapToTime {\n  start?: (snapStartArgs: SnapStartArg) => Dayjs;\n  end?: (snapEndArgs: SnapEndArg) => Dayjs;\n}\n\nexport interface BeforeAfterInitialItems {\n  initial: Item[];\n  before: Item[];\n  after: Item[];\n  targetData: Item | null;\n}\n\nexport interface OnArg {\n  items: BeforeAfterInitialItems;\n  vido: Vido;\n  state: DeepState;\n  time: DataChartTime;\n}\n\nexport interface Events {\n  onStart?: (onArg: OnArg) => Item[];\n  onResize?: (onArg: OnArg) => Item[];\n  onEnd?: (onArg: OnArg) => Item[];\n}\n\nexport interface Options {\n  enabled?: boolean;\n  debug?: boolean;\n  handle?: Handle;\n  content?: htmlResult;\n  bodyClass?: string;\n  bodyClassLeft?: string;\n  bodyClassRight?: string;\n  events?: Events;\n  snapToTime?: SnapToTime;\n}\n\nexport type State = 'start' | 'resize' | 'end' | '';\n\nexport interface PluginData extends Options {\n  leftIsMoving: boolean;\n  rightIsMoving: boolean;\n  initialItems: Item[];\n  initialItemsData: DataItems;\n  initialPosition: Point;\n  currentPosition: Point;\n  targetData: Item | null;\n  state: State;\n  movement: Movement;\n}\n\nconst lineClass = getClass('chart-timeline-items-row-item-resizing-handle-content-line');\n\nfunction generateEmptyData(options: Options = {}): PluginData {\n  const events: Events = {\n    onStart({ items }) {\n      return items.after;\n    },\n    onResize({ items }) {\n      return items.after;\n    },\n    onEnd({ items }) {\n      return items.after;\n    },\n  };\n  const snapToTime = {\n    start({ startTime, time }) {\n      return startTime.startOf(time.period);\n    },\n    end({ endTime, time }) {\n      return endTime.endOf(time.period);\n    },\n  };\n  const handle = {\n    width: 18,\n    horizontalMargin: 0,\n    verticalMargin: 0,\n    outside: false,\n    onlyWhenSelected: true,\n  };\n  const result: PluginData = {\n    enabled: true,\n    debug: false,\n    state: '',\n    content: null,\n    bodyClass: 'gstc-item-resizing',\n    bodyClassLeft: 'gstc-items-resizing-left',\n    bodyClassRight: 'gstc-items-resizing-right',\n    initialPosition: { x: 0, y: 0 },\n    currentPosition: { x: 0, y: 0 },\n    movement: {\n      px: 0,\n      time: 0,\n    },\n    initialItems: [],\n    initialItemsData: {},\n    targetData: null,\n    leftIsMoving: false,\n    rightIsMoving: false,\n    handle: { ...handle },\n    events: { ...events },\n    snapToTime: { ...snapToTime },\n    ...options,\n  };\n  if (options.snapToTime) result.snapToTime = { ...snapToTime, ...options.snapToTime };\n  if (options.events) result.events = { ...events, ...options.events };\n  if (options.handle) result.handle = { ...handle, ...options.handle };\n  return result;\n}\n\nconst pluginPath = 'config.plugin.ItemResizing';\n\nclass ItemResizing {\n  private vido: Vido;\n  private state: DeepState;\n  private api: Api;\n  private data: PluginData;\n  private oldWrapper: Wrapper;\n  private html: typeof lithtml.html;\n  private leftClassName: string;\n  private rightClassName: string;\n  private spacing: number = 1;\n  private unsubs: (() => void)[] = [];\n  private minWidth: number;\n  private merge: (target: object, source: object) => object;\n\n  constructor(vido: Vido, options: Options) {\n    this.vido = vido;\n    this.state = vido.state;\n    this.api = vido.api;\n    this.data = generateEmptyData(options);\n    this.merge = this.state.get('config.merge');\n    this.minWidth = this.data.handle.width * 2;\n    this.state.update('config.chart.item.minWidth', this.minWidth);\n    this.state.update('config.chart.items.*.minWidth', this.minWidth);\n    this.html = vido.html;\n    if (!this.data.content) this.data.content = this.html`<div class=${lineClass}></div><div class=${lineClass}></div>`;\n    this.wrapper = this.wrapper.bind(this);\n    this.onRightPointerDown = this.onRightPointerDown.bind(this);\n    this.onRightPointerMove = this.onRightPointerMove.bind(this);\n    this.onRightPointerUp = this.onRightPointerUp.bind(this);\n    this.onLeftPointerDown = this.onLeftPointerDown.bind(this);\n    this.onLeftPointerMove = this.onLeftPointerMove.bind(this);\n    this.onLeftPointerUp = this.onLeftPointerUp.bind(this);\n    this.destroy = this.destroy.bind(this);\n    this.updateData();\n    document.body.classList.add(this.data.bodyClass);\n    this.unsubs.push(\n      this.state.subscribe('config.plugin.ItemResizing', (data) => {\n        if (!data.enabled) {\n          document.body.classList.remove(this.data.bodyClass);\n        } else if (data.enabled) {\n          document.body.classList.add(this.data.bodyClass);\n        }\n        this.data = data;\n      })\n    );\n    document.addEventListener('pointermove', this.onLeftPointerMove);\n    document.addEventListener('pointerup', this.onLeftPointerUp);\n    document.addEventListener('pointermove', this.onRightPointerMove);\n    document.addEventListener('pointerup', this.onRightPointerUp);\n    this.state.update('config.wrappers.ChartTimelineItemsRowItem', (oldWrapper: Wrapper) => {\n      if (!this.oldWrapper) this.oldWrapper = oldWrapper;\n      this.initializeWrapper();\n      return this.wrapper;\n    });\n  }\n\n  public destroy() {\n    this.unsubs.forEach((unsub) => unsub());\n    document.removeEventListener('pointermove', this.onLeftPointerMove);\n    document.removeEventListener('pointerup', this.onLeftPointerUp);\n    document.removeEventListener('pointermove', this.onRightPointerMove);\n    document.removeEventListener('pointerup', this.onRightPointerUp);\n    if (this.oldWrapper) this.state.update('config.wrappers.ChartTimelineItemsRowItem', () => this.oldWrapper);\n  }\n\n  private updateData() {\n    this.state.update('config.plugin.ItemResizing', this.data);\n  }\n\n  private initializeWrapper() {\n    this.leftClassName = this.api.getClass('chart-timeline-items-row-item-resizing-handle');\n    this.leftClassName += ' ' + this.leftClassName + '--left';\n    this.rightClassName = this.api.getClass('chart-timeline-items-row-item-resizing-handle');\n    this.rightClassName += ' ' + this.rightClassName + '--right';\n    this.spacing = this.state.get('config.chart.spacing');\n  }\n\n  private getSelectedItems(): Item[] {\n    return this.state\n      .get(`config.plugin.Selection.selected.${ITEM}`)\n      .map((itemId) => this.merge({}, this.api.getItem(itemId)) as Item);\n  }\n\n  private getSelectedItemsData(selectedItems: Item[]): DataItems {\n    const itemsData = {};\n    for (const item of selectedItems) {\n      itemsData[item.id] = this.merge({}, this.api.getItemData(item.id));\n    }\n    return itemsData;\n  }\n\n  private getRightStyleMap(item: Item) {\n    const rightStyleMap = new this.vido.StyleMap({});\n    const itemData = this.api.getItemData(item.id);\n    rightStyleMap.style.top = itemData.position.actualTop + this.data.handle.verticalMargin + 'px';\n    if (this.data.handle.outside) {\n      rightStyleMap.style.left = itemData.position.right + this.data.handle.horizontalMargin - this.spacing + 'px';\n    } else {\n      rightStyleMap.style.left =\n        itemData.position.right - this.data.handle.width - this.data.handle.horizontalMargin - this.spacing + 'px';\n    }\n    rightStyleMap.style.width = this.data.handle.width + 'px';\n    rightStyleMap.style.height = itemData.actualHeight - this.data.handle.verticalMargin * 2 + 'px';\n    return rightStyleMap;\n  }\n\n  private getLeftStyleMap(item: Item) {\n    const leftStyleMap = new this.vido.StyleMap({});\n    const itemData = this.api.getItemData(item.id);\n    leftStyleMap.style.top = itemData.position.actualTop + this.data.handle.verticalMargin + 'px';\n    if (this.data.handle.outside) {\n      leftStyleMap.style.left =\n        itemData.position.left - this.data.handle.width - this.data.handle.horizontalMargin + 'px';\n    } else {\n      leftStyleMap.style.left = itemData.position.left + this.data.handle.horizontalMargin + 'px';\n    }\n    leftStyleMap.style.width = this.data.handle.width + 'px';\n    leftStyleMap.style.height = itemData.actualHeight - this.data.handle.verticalMargin * 2 + 'px';\n    return leftStyleMap;\n  }\n\n  private getEventArgument(afterItems: Item[]): OnArg {\n    const configItems = this.api.getAllItems();\n    const before = [];\n    for (const item of afterItems) {\n      before.push(this.merge({}, configItems[item.id]) as Item);\n    }\n    return {\n      items: {\n        initial: this.data.initialItems,\n        before,\n        after: afterItems,\n        targetData: this.data.targetData,\n      },\n      vido: this.vido,\n      state: this.state,\n      time: this.state.get('$data.chart.time'),\n    };\n  }\n\n  private dispatchEvent(type: 'onStart' | 'onResize' | 'onEnd', items: Item[], itemData: DataItems = null) {\n    items = items.map((item) => this.merge({}, item) as Item);\n    const modified = this.data.events[type](this.getEventArgument(items));\n    let multi = this.state.multi();\n    for (const item of modified) {\n      multi = multi.update(`config.chart.items.${item.id}.time`, item.time);\n      if (itemData) multi = multi.update(`$data.chart.items.${item.id}`, itemData[item.id]);\n    }\n    multi.done();\n  }\n\n  private getItemsForDiff(): { original: Item; modified: Item } {\n    const modified = this.getSelectedItems()[0];\n    const original = this.data.initialItems.find((initial) => initial.id === modified.id);\n    return { modified, original };\n  }\n\n  private onPointerDown(ev: PointerEvent) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.data.initialItems = this.getSelectedItems();\n    this.data.initialItemsData = this.getSelectedItemsData(this.data.initialItems);\n    // @ts-ignore\n    this.data.targetData = this.merge({}, ev.target.vido) as Item;\n    this.data.initialPosition = {\n      x: ev.screenX,\n      y: ev.screenY,\n    };\n    this.data.currentPosition = { ...this.data.initialPosition };\n    if (this.data.state === '' || this.data.state === 'end') {\n      this.data.state = 'resize';\n    }\n    this.dispatchEvent('onStart', this.data.initialItems);\n  }\n\n  private onLeftPointerDown(ev: PointerEvent) {\n    if (!this.data.enabled) return;\n    document.body.classList.add(this.data.bodyClassLeft);\n    this.onPointerDown(ev);\n    this.data.leftIsMoving = true;\n    this.updateData();\n  }\n\n  private onRightPointerDown(ev: PointerEvent) {\n    if (!this.data.enabled) return;\n    document.body.classList.add(this.data.bodyClassRight);\n    this.onPointerDown(ev);\n    this.data.rightIsMoving = true;\n    this.updateData();\n  }\n\n  private onPointerMove(ev: PointerEvent) {\n    ev.stopPropagation();\n    ev.preventDefault();\n    this.data.currentPosition.x = ev.screenX;\n    this.data.currentPosition.y = ev.screenY;\n    this.data.movement.px = this.data.currentPosition.x - this.data.initialPosition.x;\n    const { original, modified } = this.getItemsForDiff();\n    this.data.movement.time = modified.time.start - original.time.start;\n    if (this.data.state === 'resize' || this.data.state === 'start') {\n      this.data.state = 'resize';\n    }\n  }\n\n  private onLeftPointerMove(ev: PointerEvent) {\n    if (!this.data.enabled || !this.data.leftIsMoving) return;\n    this.onPointerMove(ev);\n    const selected = this.getSelectedItems();\n    const itemDataToSave = {};\n    const movement = this.data.movement;\n    const time: DataChartTime = this.state.get('$data.chart.time');\n    for (let i = 0, len = selected.length; i < len; i++) {\n      const item = selected[i];\n      const itemData = this.merge({}, this.data.initialItemsData[item.id]) as ItemData;\n      itemData.position.left = itemData.position.left + movement.px;\n      if (itemData.position.left > itemData.position.right - item.minWidth)\n        itemData.position.left = itemData.position.right - item.minWidth;\n      const leftGlobal = this.api.time.getTimeFromViewOffsetPx(itemData.position.left, time, true);\n      itemData.width = itemData.position.right - itemData.position.left;\n      if (itemData.width < item.minWidth) itemData.width = item.minWidth;\n      itemData.actualWidth = itemData.width;\n      const finalLeftGlobalDate = this.data.snapToTime.start({\n        startTime: this.api.time.date(leftGlobal),\n        item,\n        time,\n        movement,\n        vido: this.vido,\n      });\n      item.time.start = finalLeftGlobalDate.valueOf();\n      itemData.time.startDate = finalLeftGlobalDate;\n      itemDataToSave[item.id] = itemData;\n    }\n    this.dispatchEvent('onResize', selected, itemDataToSave);\n    this.updateData();\n  }\n\n  private onRightPointerMove(ev: PointerEvent) {\n    if (!this.data.enabled || !this.data.rightIsMoving) return;\n    this.onPointerMove(ev);\n    const selected = this.getSelectedItems();\n    const itemDataToSave = {};\n    const movement = this.data.movement;\n    const time: DataChartTime = this.state.get('$data.chart.time');\n    for (let i = 0, len = selected.length; i < len; i++) {\n      const item = selected[i];\n      const itemData = this.merge({}, this.data.initialItemsData[item.id]) as ItemData;\n      itemData.position.right = itemData.position.right + movement.px;\n      if (itemData.position.right < itemData.position.left + item.minWidth)\n        itemData.position.right = itemData.position.left + item.minWidth;\n      const rightGlobal = this.api.time.getTimeFromViewOffsetPx(itemData.position.right, time, false);\n      itemData.width = itemData.position.right - itemData.position.left;\n      if (itemData.width < item.minWidth) itemData.width = item.minWidth;\n      itemData.actualWidth = itemData.width;\n      const finalRightGlobalDate = this.data.snapToTime.end({\n        endTime: this.api.time.date(rightGlobal),\n        item,\n        time,\n        movement,\n        vido: this.vido,\n      });\n      item.time.end = finalRightGlobalDate.valueOf();\n      itemData.time.endDate = finalRightGlobalDate;\n      itemDataToSave[item.id] = itemData;\n    }\n    this.dispatchEvent('onResize', selected, itemDataToSave);\n    this.updateData();\n  }\n\n  private onEnd() {\n    const items = this.getSelectedItems();\n    this.dispatchEvent('onEnd', items);\n  }\n\n  private onPointerUp(ev: PointerEvent) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    if (this.data.state === 'resize') {\n      this.data.state = 'end';\n    }\n  }\n\n  private onLeftPointerUp(ev: PointerEvent) {\n    if (!this.data.enabled || !this.data.leftIsMoving) return;\n    document.body.classList.remove(this.data.bodyClassLeft);\n    this.data.leftIsMoving = false;\n    this.onPointerUp(ev);\n    this.onEnd();\n    this.updateData();\n  }\n\n  private onRightPointerUp(ev: PointerEvent) {\n    if (!this.data.enabled || !this.data.rightIsMoving) return;\n    document.body.classList.remove(this.data.bodyClassRight);\n    this.data.rightIsMoving = false;\n    this.onPointerUp(ev);\n    this.onEnd();\n    this.updateData();\n  }\n\n  public wrapper(input: htmlResult, props?: any): htmlResult {\n    const oldContent = this.oldWrapper(input, props);\n    const item: Item = props.props.item;\n    let visible = !this.api.getItemData(item.id).detached;\n    if (this.data.handle.onlyWhenSelected) {\n      visible = visible && item.selected;\n    }\n    const rightStyleMap = this.getRightStyleMap(item);\n    const leftStyleMap = this.getLeftStyleMap(item); // eslint-disable-line no-unused-vars, @typescript-eslint/no-unused-vars\n    // eslint-disable-next-line no-unused-vars, @typescript-eslint/no-unused-vars\n    const onLeftPointerDown = {\n      handleEvent: (ev) => this.onLeftPointerDown(ev),\n      //capture: true,\n    };\n    const onRightPointerDown = {\n      handleEvent: (ev) => this.onRightPointerDown(ev),\n      //capture: true,\n    };\n    const leftHandle = this\n      .html`<div class=${this.leftClassName} style=${leftStyleMap} @pointerdown=${onLeftPointerDown}>${this.data.content}</div>`;\n    const rightHandle = this\n      .html`<div class=${this.rightClassName} style=${rightStyleMap} @pointerdown=${onRightPointerDown}>${this.data.content}</div>`;\n    return this.html`${visible ? leftHandle : null}${oldContent}${visible ? rightHandle : null}`;\n  }\n}\n\nexport function Plugin(options: Options = {}) {\n  return function initialize(vidoInstance: Vido) {\n    const currentOptions = vidoInstance.state.get(pluginPath);\n    if (currentOptions) {\n      options = mergeDeep({}, options, currentOptions);\n    }\n    const itemResizing = new ItemResizing(vidoInstance, options);\n    return itemResizing.destroy;\n  };\n}\n","/**\n * Selection plugin\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n\nimport {\n  PluginData as TimelinePointerPluginData,\n  ITEM,\n  ITEM_TYPE,\n  CELL,\n  CELL_TYPE,\n  Point,\n  PointerState,\n} from './timeline-pointer.plugin';\n\nimport { Item, GridCell, Items, Vido, htmlResult, Wrapper, ItemData, GridRow, GridRows, GridCells } from '../gstc';\nimport DeepState from 'deep-state-observer';\nimport { Api } from '../api/api';\nimport { StyleMap, lithtml } from '@neuronet.io/vido/src/vido';\nimport { mergeDeep } from '@neuronet.io/vido/src/helpers';\n\nexport type ModKey = 'shift' | 'ctrl' | 'alt' | '';\n\nexport interface SelectionItems {\n  [key: string]: Item[];\n}\n\nexport interface SelectState {\n  selecting?: SelectionItems;\n  selected?: SelectionItems;\n}\n\nexport interface Options {\n  enabled?: boolean;\n  cells?: boolean;\n  items?: boolean;\n  rows?: boolean;\n  showOverlay?: boolean;\n  rectangularSelection?: boolean;\n  multipleSelection?: boolean;\n  selectKey?: ModKey;\n  multiKey?: ModKey;\n  selectedClassName?: string;\n  selectingClassName?: string;\n  onSelecting?: (selecting: EventSelection, last: EventSelection) => EventSelection;\n  onSelected?: (selected: EventSelection, last: EventSelection) => EventSelection;\n}\n\nfunction prepareOptions(options: Options) {\n  const defaultOptions: Options = {\n    enabled: true,\n    cells: true,\n    items: true,\n    rows: false,\n    showOverlay: true,\n    rectangularSelection: true,\n    multipleSelection: true,\n    selectedClassName: 'gstc__grid-cell-selected',\n    selectingClassName: 'gstc__grid-cell-selecting',\n    onSelecting(selecting) {\n      return selecting;\n    },\n    onSelected(selected) {\n      return selected;\n    },\n  };\n  options = { ...defaultOptions, ...options } as Options;\n  return options;\n}\n\nconst pluginPath = 'config.plugin.Selection';\n\nexport interface Area {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\nexport interface Selection {\n  [CELL]: string[];\n  [ITEM]: string[];\n}\n\nexport interface EventSelection {\n  [CELL]: GridCell[];\n  [ITEM]: Item[];\n}\n\nexport interface SelectedCell {\n  rowId: string;\n  cellId: string;\n}\n\nexport interface PointerEvents {\n  down: PointerEvent | null;\n  move: PointerEvent | null;\n  up: PointerEvent | null;\n}\n\nexport interface PluginData extends Options {\n  enabled: boolean;\n  isSelecting: boolean;\n  showOverlay: boolean;\n  pointerState: PointerState;\n  initialPosition: Point;\n  currentPosition: Point;\n  selectionAreaLocal: Area;\n  selectionAreaGlobal: Area;\n  selected: Selection;\n  lastSelected: Selection;\n  selecting: Selection;\n  automaticallySelected: Selection;\n  events: PointerEvents;\n  targetType: ITEM_TYPE | CELL_TYPE | '';\n  targetData: any;\n}\n\nfunction generateEmptyData(options: Options): PluginData {\n  return {\n    enabled: true,\n    showOverlay: true,\n    isSelecting: false,\n    pointerState: 'up',\n    selectKey: '',\n    multiKey: 'shift',\n    multipleSelection: true,\n    targetType: '',\n    targetData: null,\n    initialPosition: { x: 0, y: 0 },\n    currentPosition: { x: 0, y: 0 },\n    selectionAreaLocal: { x: 0, y: 0, width: 0, height: 0 },\n    selectionAreaGlobal: { x: 0, y: 0, width: 0, height: 0 },\n    selecting: {\n      [ITEM]: [],\n      [CELL]: [],\n    },\n    selected: {\n      [ITEM]: [],\n      [CELL]: [],\n    },\n    lastSelected: {\n      [ITEM]: [],\n      [CELL]: [],\n    },\n    automaticallySelected: {\n      [ITEM]: [],\n      [CELL]: [],\n    },\n    events: {\n      down: null,\n      move: null,\n      up: null,\n    },\n    ...options,\n  };\n}\n\nclass SelectionPlugin {\n  private data: PluginData;\n  private pointerData: TimelinePointerPluginData;\n  private vido: Vido;\n  private state: DeepState;\n  private api: Api;\n  private onDestroy = [];\n  private oldWrapper: Wrapper;\n  private html: typeof lithtml.html;\n  private wrapperClassName: string;\n  private wrapperStyleMap: StyleMap;\n  private merge: (target: object, source: object) => object;\n\n  constructor(vido: Vido, options: Options) {\n    this.vido = vido;\n    this.state = vido.state;\n    this.api = vido.api;\n    this.merge = this.state.get('config.merge');\n    this.state.update(pluginPath, generateEmptyData(options));\n    this.data = generateEmptyData(options);\n    this.wrapperClassName = this.api.getClass('chart-selection');\n    this.wrapperStyleMap = new vido.StyleMap({ display: 'none' });\n    this.html = vido.html;\n    this.wrapper = this.wrapper.bind(this);\n    this.destroy = this.destroy.bind(this);\n    this.setWrapper();\n    this.onCellCreate = this.onCellCreate.bind(this);\n    this.apiGetSelection = this.apiGetSelection.bind(this);\n    this.apiGetSelecting = this.apiGetSelecting.bind(this);\n    this.apiGetSelected = this.apiGetSelected.bind(this);\n    this.apiSetSelection = this.apiSetSelection.bind(this);\n    this.apiSelectCells = this.apiSelectCells.bind(this);\n    this.apiSelectItems = this.apiSelectItems.bind(this);\n    this.api.plugins.selection = {\n      getSelection: this.apiGetSelection,\n      getSelected: this.apiGetSelected,\n      getSelecting: this.apiGetSelecting,\n      setSelection: this.apiSetSelection,\n      selectCells: this.apiSelectCells,\n      selectItems: this.apiSelectItems,\n    };\n    this.state.update('config.chart.grid.cell.onCreate', (onCreate) => {\n      if (!onCreate.includes(this.onCellCreate)) onCreate.push(this.onCellCreate);\n      return onCreate;\n    });\n    this.onDestroy.push(\n      this.state.subscribe('config.plugin.TimelinePointer', (timelinePointerData) => {\n        this.pointerData = timelinePointerData;\n        this.onPointerData();\n      })\n    );\n    this.updateData();\n    this.onDestroy.push(\n      this.state.subscribe(pluginPath, (value) => {\n        this.data = value;\n      })\n    );\n    this.updateCellSelectionClassName = this.updateCellSelectionClassName.bind(this);\n    this.selectedCellAction = this.selectedCellAction.bind(this);\n    this.state.update('config.actions.chart-timeline-grid-row-cell', (actions) => {\n      if (!actions.includes(this.selectedCellAction)) actions.push(this.selectedCellAction);\n      return actions;\n    });\n    // watch and update items/cells that are inside selection\n    // remove ones that no longer exist\n    // for cells we cannot do that because cells are created dynamically\n    this.onDestroy.push(\n      this.state.subscribe(\n        'config.chart.items',\n        (items: Items) => {\n          this.data.selected[ITEM] = this.data.selected[ITEM].filter((itemId) => !!items[itemId]);\n          this.data.selecting[ITEM] = this.data.selecting[ITEM].filter((itemId) => !!items[itemId]);\n        },\n        {\n          ignore: ['$data.chart.items.*.detached', 'config.chart.items.*.selected', 'config.chart.items.*.selecting'],\n        }\n      )\n    );\n  }\n\n  private setWrapper() {\n    this.state.update('config.wrappers.ChartTimelineItems', (oldWrapper: Wrapper) => {\n      if (!this.oldWrapper) this.oldWrapper = oldWrapper;\n      return this.wrapper;\n    });\n  }\n\n  public destroy() {\n    this.state.update('config.wrappers.ChartTimelineItems', this.oldWrapper);\n    this.state.update('config.actions.chart-timeline-grid-row-cell', (actions) => {\n      return actions.filter((action) => action !== this.selectedCellAction);\n    });\n    this.state.update('config.chart.grid.cell.onCreate', (onCreate) => {\n      return onCreate.filter((onCreateFn) => onCreateFn !== this.onCellCreate);\n    });\n    this.oldWrapper = null;\n    this.onDestroy.forEach((unsub) => unsub());\n  }\n\n  private updateData() {\n    this.state.update(pluginPath, { ...this.data });\n    this.vido.update(); // draw selection area overlay\n  }\n\n  private apiSetSelection(selection: Selection) {\n    this.data.selected = this.api.mergeDeep({}, selection);\n    let multi = this.state.multi();\n    multi = this.updateCells(multi);\n    multi = this.updateItems(multi);\n    multi.done();\n    this.updateData();\n  }\n\n  private apiSelectCells(cellsId: string[]) {\n    this.data.selected[CELL] = [...cellsId];\n    let multi = this.state.multi();\n    multi = this.updateCells(multi);\n    multi.done();\n    this.updateData();\n  }\n\n  private apiSelectItems(itemsId: string[]) {\n    this.data.selected[ITEM] = [...itemsId];\n    let multi = this.state.multi();\n    multi = this.updateItems(multi);\n    multi.done();\n    this.updateData();\n  }\n\n  private apiGetSelection() {\n    return {\n      selecting: this.getSelectionWithData(this.data.selecting),\n      selected: this.getSelectionWithData(this.data.selected),\n    };\n  }\n\n  private apiGetSelecting() {\n    return this.getSelectionWithData(this.data.selecting);\n  }\n\n  private apiGetSelected() {\n    return this.getSelectionWithData(this.data.selected);\n  }\n\n  private modKeyPressed(modKey: ModKey, ev: PointerEvent): boolean {\n    switch (modKey) {\n      case 'shift':\n        return ev.shiftKey;\n      case 'alt':\n        return ev.altKey;\n      case 'ctrl':\n        return ev.ctrlKey;\n    }\n  }\n\n  private canSelect(): boolean {\n    let result = this.data.enabled;\n    const downEvent = this.pointerData.events.down;\n    if (downEvent && this.data.selectKey) result = result && this.modKeyPressed(this.data.selectKey, downEvent);\n    return result;\n  }\n\n  private getSelectionAreaLocal(): Area {\n    const area = { x: 0, y: 0, width: 0, height: 0 };\n    const initial = { ...this.pointerData.initialPosition };\n    const current = { ...this.pointerData.currentPosition };\n    const width = current.x - initial.x;\n    const height = current.y - initial.y;\n    if (width >= 0) {\n      area.x = initial.x;\n      area.width = width;\n    } else {\n      area.x = current.x;\n      area.width = Math.abs(width);\n    }\n    if (height >= 0) {\n      area.y = initial.y;\n      area.height = height;\n    } else {\n      area.y = current.y;\n      area.height = Math.abs(height);\n    }\n    return area;\n  }\n\n  private translateAreaLocalToGlobal(localArea: Area): Area {\n    const leftPx: number = this.state.get('$data.chart.time.leftPx');\n    const topPx: number = this.state.get('config.scroll.vertical.posPx');\n    return { ...localArea, x: localArea.x + leftPx, y: localArea.y + topPx };\n  }\n\n  private collectLinkedItems(item: Item, current: string[] = []): string[] {\n    if (item.linkedWith && item.linkedWith.length) {\n      const items: Items = this.api.getAllItems();\n      for (const linkedItemId of item.linkedWith) {\n        const linkedItem: Item = items[linkedItemId];\n        if (!current.includes(linkedItem.id)) {\n          current.push(linkedItem.id);\n          // we don't need to go further because linkedWith property already contains all we need\n        }\n      }\n    }\n    return current;\n  }\n\n  private getSelectedItem(item: Item): { selected: string[]; automaticallySelected: string[] } {\n    let selected: string[];\n    let automaticallySelected: string[] = this.data.automaticallySelected[ITEM].slice();\n    const linked = this.collectLinkedItems(item, [item.id]);\n    if (this.data.selected[ITEM].find((selectedItemId) => selectedItemId === item.id)) {\n      // if we want to start movement or something - just return currently selected\n      selected = this.data.selected[ITEM];\n      if (automaticallySelected.find((autoId) => autoId === item.id)) {\n        // item under the pointer was automaticallySelected so we must remove it from here\n        // - it is not automaticallySelected right now\n        // we need to replace current item with one that is linked but doesn't lay down\n        // in automaticallySelected currently - we need to switch them\n        // first of all we need to find out which item is linked with current but\n        // not inside automaticallySelected\n        const actualAutoIds = automaticallySelected;\n        const replaceWith = selected.find((selId) => item.linkedWith.includes(selId) && !actualAutoIds.includes(selId));\n        automaticallySelected = automaticallySelected.filter((currentItemId) => currentItemId !== item.id);\n        automaticallySelected.push(replaceWith);\n      } else {\n        automaticallySelected = this.data.automaticallySelected[ITEM];\n      }\n    } else {\n      if (this.isMulti()) {\n        selected = Array.from(new Set([...this.data.selected[ITEM], ...linked]));\n      } else {\n        selected = linked;\n      }\n      automaticallySelected = linked.filter((currentItemId) => currentItemId !== item.id);\n    }\n    selected = selected.map((itemId) => {\n      item = this.api.getItem(itemId);\n      item.selected = true;\n      return itemId;\n    });\n    return { selected, automaticallySelected };\n  }\n\n  private isItemVerticallyInsideArea(itemData: ItemData, area: Area): boolean {\n    if (!area.width || !area.height) return false;\n    const areaBottom = area.y + area.height;\n    const itemTop = itemData.position.viewTop;\n    const itemBottom = itemTop + itemData.actualHeight;\n    return (\n      (itemTop >= area.y && itemTop <= areaBottom) ||\n      (itemBottom >= area.y && itemBottom <= areaBottom) ||\n      (itemTop >= area.y && itemBottom <= areaBottom) ||\n      (itemTop <= area.y && itemBottom >= areaBottom)\n    );\n  }\n\n  private isItemHorizontallyInsideArea(itemData: ItemData, area: Area): boolean {\n    if (!area.width || !area.height) return false;\n    const areaRight = area.x + area.width;\n    return (\n      (itemData.position.actualLeft >= area.x && itemData.position.actualLeft <= areaRight) ||\n      (itemData.position.actualRight >= area.x && itemData.position.actualRight <= areaRight) ||\n      (itemData.position.actualLeft <= area.x && itemData.position.actualRight >= areaRight) ||\n      (itemData.position.actualLeft >= area.x && itemData.position.actualRight <= areaRight)\n    );\n  }\n\n  private isMulti(): boolean {\n    const move = this.pointerData.events.move;\n    return move && this.data.multiKey && this.modKeyPressed(this.data.multiKey, move);\n  }\n\n  private getItemsUnderSelectionArea(\n    areaLocal: Area\n  ): { selectedItems: string[]; automaticallySelectedItems: string[] } {\n    const visibleItemsId: string[] = this.state.get('$data.chart.visibleItems');\n    const visibleItems: Item[] = this.api.getItems(visibleItemsId);\n    let selectedItems = [];\n    const automaticallySelectedItems = [];\n    for (let item of visibleItems) {\n      item = this.merge({}, item) as Item;\n      const itemData = this.api.getItemData(item.id);\n      if (\n        this.isItemVerticallyInsideArea(itemData, areaLocal) &&\n        this.isItemHorizontallyInsideArea(itemData, areaLocal)\n      ) {\n        if (!selectedItems.find((selectedItemId) => selectedItemId === item.id)) selectedItems.push(item.id);\n        const linked = this.collectLinkedItems(item, [item.id]);\n        for (let linkedItemId of linked) {\n          const linkedItem = this.api.getItem(linkedItemId);\n          if (!selectedItems.find((selectedItemId) => selectedItemId === linkedItem.id)) {\n            selectedItems.push(linkedItem.id);\n            automaticallySelectedItems.push(linkedItem.id);\n          }\n        }\n      }\n    }\n    selectedItems = selectedItems.map((itemId) => {\n      const item = this.api.getItem(itemId);\n      item.selected = true;\n      return itemId;\n    });\n    return { selectedItems, automaticallySelectedItems };\n  }\n\n  private isCellVerticallyInsideArea(cell: GridCell, area: Area): boolean {\n    if (!area.width || !area.height) return false;\n    const areaBottom = area.y + area.height;\n    const top = cell.top;\n    const bottom = top + cell.row.$data.actualHeight;\n    return (\n      (top >= area.y && top <= areaBottom) ||\n      (bottom >= area.y && bottom <= areaBottom) ||\n      (top >= area.y && bottom <= areaBottom) ||\n      (top <= area.y && bottom >= areaBottom)\n    );\n  }\n\n  private isCellHorizontallyInsideArea(cell: GridCell, area: Area): boolean {\n    if (!area.width || !area.height) return false;\n    const areaRight = area.x + area.width;\n    const left = cell.time.currentView.leftPx;\n    const right = cell.time.currentView.rightPx;\n    return (\n      (left >= area.x && left <= areaRight) ||\n      (right >= area.x && right <= areaRight) ||\n      (left <= area.x && right >= areaRight) ||\n      (left >= area.x && right <= areaRight)\n    );\n  }\n\n  private getCellsUnderSelectionArea(areaLocal: Area): { selectedCells: string[] } {\n    const cells: GridCells = this.state.get('$data.chart.grid.cells');\n    const selectedCells = [];\n    for (const cellId in cells) {\n      const cell = cells[cellId];\n      if (this.isCellVerticallyInsideArea(cell, areaLocal) && this.isCellHorizontallyInsideArea(cell, areaLocal)) {\n        if (!selectedCells.find((selectedCell: string) => selectedCell === cell.id)) selectedCells.push(cell.id);\n      }\n    }\n    return { selectedCells };\n  }\n\n  private updateItems(multi) {\n    const allItems: Item[] = this.api.getItems();\n    const currentlySelectingItemsStr = allItems\n      .filter((item) => item.selecting)\n      .map((item) => item.id)\n      .join('|');\n    const selectingItemsStr = this.data.selecting[ITEM].join('|');\n    const currentlySelectedItemsStr = allItems\n      .filter((item) => item.selected)\n      .map((item) => item.id)\n      .join('|');\n    const selectedItemsStr = this.data.selected[ITEM].join('|');\n    if (currentlySelectingItemsStr === selectingItemsStr && currentlySelectedItemsStr === selectedItemsStr)\n      return multi;\n    multi = multi.update('config.chart.items.*.selected', false);\n    multi = multi.update('config.chart.items.*.selecting', false);\n    const itemsId = Array.from(new Set([...this.data.selecting[ITEM], ...this.data.selected[ITEM]]));\n    for (const itemId of itemsId) {\n      const selecting = this.data.selecting[ITEM].includes(itemId);\n      const selected = this.data.selected[ITEM].includes(itemId);\n      multi = multi.update(`config.chart.items.${itemId}.selecting`, selecting);\n      multi = multi.update(`config.chart.items.${itemId}.selected`, selected);\n    }\n    return multi;\n  }\n\n  private updateCells(multi) {\n    const allCells: GridCell[] = this.api.getGridCells();\n    const currentlySelectingCellsStr = allCells\n      .filter((cell) => cell.selecting)\n      .map((cell) => cell.id)\n      .join('|');\n    const selectingCellsStr = this.data.selecting[CELL].join('|');\n    const currentlySelectedCellsStr = allCells\n      .filter((cell) => cell.selected)\n      .map((cell) => cell.id)\n      .join('|');\n    const selectedCellsStr = this.data.selected[CELL].join('|');\n    if (currentlySelectingCellsStr === selectingCellsStr && currentlySelectedCellsStr === selectedCellsStr)\n      return multi;\n    multi.update('$data.chart.grid.cells', (cells: GridCells) => {\n      for (const cellId in cells) {\n        const cell = cells[cellId];\n        cell.selected = this.data.selected[CELL].includes(cell.id);\n        cell.selecting = this.data.selecting[CELL].includes(cell.id);\n      }\n      return cells;\n    });\n    return multi;\n  }\n\n  private deselectItems() {\n    this.data.selected[ITEM].length = 0;\n    this.data.selecting[ITEM].length = 0;\n    let multi = this.state.multi();\n    multi = this.updateItems(multi);\n    multi.done();\n  }\n\n  private deselectCells() {\n    this.data.selecting[CELL].length = 0;\n    this.data.selected[CELL].length = 0;\n    let multi = this.state.multi();\n    multi = this.updateCells(multi);\n    multi.done();\n  }\n\n  private getSelectionWithData(selection: Selection): EventSelection {\n    const items = this.state.get('config.chart.items');\n    const cells = this.state.get('$data.chart.grid.cells');\n    return {\n      [CELL]: selection[CELL].map((cellId) => cells[cellId]),\n      [ITEM]: selection[ITEM].map((itemId) => items[itemId]),\n    };\n  }\n\n  // send cell and item data to event - not just id\n  private onSelecting(selecting: Selection, last: Selection): Selection {\n    const selectingWithData = this.getSelectionWithData(selecting);\n    const lastWithData = this.getSelectionWithData(last);\n    const result = this.data.onSelecting(selectingWithData, lastWithData);\n    return {\n      [CELL]: result[CELL].map((cell) => cell.id),\n      [ITEM]: result[ITEM].map((item) => item.id),\n    };\n  }\n\n  // send cell and item data to event - not just id\n  private onSelected(selected: Selection, last: Selection): Selection {\n    const selectedWithData = this.getSelectionWithData(selected);\n    const lastWithData = this.getSelectionWithData(last);\n    const result = this.data.onSelected(selectedWithData, lastWithData);\n    return {\n      [CELL]: result[CELL].map((cell) => cell.id),\n      [ITEM]: result[ITEM].map((item) => item.id),\n    };\n  }\n\n  private selectMultipleCellsAndItems() {\n    if (!this.canSelect()) return;\n    if (!this.data.multipleSelection) {\n      this.deselectItems();\n      this.deselectCells();\n      this.updateData();\n      return;\n    }\n    this.data.isSelecting = true;\n    this.data.selectionAreaLocal = this.getSelectionAreaLocal();\n    this.data.selectionAreaGlobal = this.translateAreaLocalToGlobal(this.data.selectionAreaLocal);\n\n    let selecting = {\n      [CELL]: [],\n      [ITEM]: [],\n    };\n    const isMulti = this.isMulti();\n\n    const { selectedCells } = this.getCellsUnderSelectionArea(this.data.selectionAreaLocal);\n    if (selectedCells.length === 0) {\n      selecting[CELL].length = 0;\n      if (!isMulti) this.data.selected[CELL].length = 0;\n    } else {\n      selecting[CELL] = selectedCells;\n    }\n    const { selectedItems, automaticallySelectedItems } = this.getItemsUnderSelectionArea(this.data.selectionAreaLocal);\n    this.data.automaticallySelected[ITEM] = automaticallySelectedItems;\n    if (selectedItems.length === 0) {\n      selecting[ITEM].length = 0;\n      if (!isMulti) this.data.selected[ITEM].length = 0;\n    } else {\n      selecting[ITEM] = selectedItems;\n    }\n\n    this.data.selecting = this.onSelecting(selecting, this.api.mergeDeep({}, this.data.lastSelected));\n\n    let multi = this.state.multi();\n    multi = this.updateCells(multi);\n    multi = this.updateItems(multi);\n    multi.done();\n  }\n\n  private selectItemsIndividually() {\n    this.data.isSelecting = false;\n    this.data.selectionAreaLocal = this.getSelectionAreaLocal();\n    this.data.currentPosition = this.pointerData.currentPosition;\n    this.data.initialPosition = this.pointerData.initialPosition;\n    if (!this.canSelect()) return;\n    const item: Item = this.merge({}, this.pointerData.targetData) as Item;\n    let { selected, automaticallySelected } = this.getSelectedItem(item);\n    if (selected.length > 1 && !this.data.multipleSelection) {\n      selected = [item.id];\n      automaticallySelected = [];\n    }\n    this.data.selected[ITEM] = selected;\n    if (!this.isMulti()) this.data.selected[CELL].length = 0;\n    this.data.automaticallySelected[ITEM] = automaticallySelected;\n    this.data.selected = this.onSelected(\n      this.api.mergeDeep({}, this.data.selected),\n      this.api.mergeDeep({}, this.data.lastSelected)\n    );\n    let multi = this.state.multi();\n    multi = this.updateItems(multi);\n    multi.done();\n  }\n\n  private finishSelection() {\n    let selected;\n    if (this.isMulti()) {\n      selected = {\n        [CELL]: Array.from(new Set([...this.data.selected[CELL], ...this.data.selecting[CELL]])),\n        [ITEM]: Array.from(new Set([...this.data.selected[ITEM], ...this.data.selecting[ITEM]])),\n      };\n    } else {\n      selected = {\n        [CELL]: [...this.data.selecting[CELL]],\n        [ITEM]: [...this.data.selecting[ITEM]],\n      };\n    }\n    this.data.selected = this.onSelected(selected, this.api.mergeDeep({}, this.data.lastSelected));\n    this.data.lastSelected = this.api.mergeDeep({}, this.data.selected);\n    this.data.selecting[CELL].length = 0;\n    this.data.selecting[ITEM].length = 0;\n    let multi = this.state.multi();\n    multi = this.updateItems(multi);\n    multi = this.updateCells(multi);\n    multi.done();\n  }\n\n  private onPointerData() {\n    if (this.pointerData.isMoving && this.pointerData.targetType === CELL && this.data.rectangularSelection) {\n      this.selectMultipleCellsAndItems();\n    } else if (this.pointerData.isMoving && this.pointerData.targetType === CELL && !this.data.rectangularSelection) {\n      this.deselectItems();\n    } else if (this.pointerData.isMoving && this.pointerData.targetType === ITEM) {\n      this.selectItemsIndividually();\n    } else if (!this.pointerData.isMoving) {\n      if (this.data.isSelecting) this.finishSelection();\n      this.data.isSelecting = false;\n    }\n    if (this.pointerData.isMoving && this.pointerData.targetType !== CELL && this.pointerData.targetType !== ITEM) {\n      this.deselectItems();\n    }\n    this.data.events = this.pointerData.events;\n    this.data.pointerState = this.pointerData.pointerState;\n    this.data.targetType = this.pointerData.targetType;\n    this.data.targetData = this.pointerData.targetData;\n    this.updateData();\n  }\n\n  private wrapper(input: htmlResult, props?: any) {\n    if (!this.oldWrapper) return input;\n    const oldContent = this.oldWrapper(input, props);\n    let shouldDetach = true;\n    if (\n      this.canSelect() &&\n      this.data.isSelecting &&\n      this.data.showOverlay &&\n      this.data.multipleSelection &&\n      this.data.rectangularSelection\n    ) {\n      this.wrapperStyleMap.style.display = 'block';\n      this.wrapperStyleMap.style.left = this.data.selectionAreaLocal.x + 'px';\n      this.wrapperStyleMap.style.top = this.data.selectionAreaLocal.y + 'px';\n      this.wrapperStyleMap.style.width = this.data.selectionAreaLocal.width + 'px';\n      this.wrapperStyleMap.style.height = this.data.selectionAreaLocal.height + 'px';\n      shouldDetach = false;\n    }\n    const area = this.html`<div class=${this.wrapperClassName} style=${this.wrapperStyleMap}></div>`;\n    return this.html`${oldContent}${shouldDetach ? null : area}`;\n  }\n\n  private updateCellSelectionClassName(element: HTMLElement, cell: GridCell) {\n    if (cell.selected) {\n      element.classList.add(this.data.selectedClassName);\n      element.classList.remove(this.data.selectingClassName);\n    } else {\n      element.classList.remove(this.data.selectedClassName);\n    }\n    if (cell.selecting) {\n      element.classList.add(this.data.selectingClassName);\n      element.classList.remove(this.data.selectedClassName);\n    } else {\n      element.classList.remove(this.data.selectingClassName);\n    }\n  }\n\n  private selectedCellAction(element: HTMLElement, data: GridCell) {\n    this.updateCellSelectionClassName(element, data);\n    return {\n      update: this.updateCellSelectionClassName,\n      destroy: this.updateCellSelectionClassName,\n    };\n  }\n\n  private onCellCreate(cell: GridCell) {\n    cell.selected = !!this.data.selected[CELL].find((selectedCellId) => selectedCellId === cell.id);\n    cell.selecting = !!this.data.selecting[CELL].find((selectedCellId) => selectedCellId === cell.id);\n    return cell;\n  }\n}\n\nexport function Plugin(options: Options = {}) {\n  options = prepareOptions(options);\n  return function initialize(vidoInstance: Vido) {\n    const currentOptions = vidoInstance.state.get(pluginPath);\n    if (currentOptions) {\n      options = mergeDeep({}, options, currentOptions);\n    }\n    const selectionPlugin = new SelectionPlugin(vidoInstance, options);\n    return selectionPlugin.destroy;\n  };\n}\n","/**\n * CalendarScroll plugin\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n\nimport { ScrollTypeHorizontal, Vido, Scroll } from '../gstc';\nimport DeepState from 'deep-state-observer';\nimport { Api } from '../api/api';\nimport { mergeDeep } from '@neuronet.io/vido/src/helpers';\n\nexport interface Point {\n  x: number;\n  y: number;\n}\n\nexport interface Options {\n  enabled: boolean;\n  bodyClassName: string;\n}\n\nconst defaultOptions = {\n  enabled: true,\n  bodyClassName: 'gstc-scrolling',\n};\n\nexport function Plugin(options: Options = defaultOptions) {\n  let vido: Vido, api: Api, state: DeepState;\n  let enabled = options.enabled;\n\n  class ChartAction {\n    private moving = false;\n    private initialPoint: Point;\n    private initialDataIndex: Point = { x: 0, y: 0 };\n\n    constructor(element: HTMLElement) {\n      this.pointerDown = this.pointerDown.bind(this);\n      this.pointerUp = this.pointerUp.bind(this);\n      this.pointerMove = vido.schedule(this.pointerMove.bind(this));\n      element.addEventListener('pointerdown', this.pointerDown);\n      document.addEventListener('pointermove', this.pointerMove, { passive: true });\n      document.addEventListener('pointerup', this.pointerUp);\n      element.style.cursor = 'grab';\n    }\n\n    public destroy(element: HTMLElement) {\n      element.removeEventListener('pointerdown', this.pointerDown);\n      document.removeEventListener('pointermove', this.pointerMove);\n      document.removeEventListener('pointerup', this.pointerUp);\n    }\n\n    private resetInitialPoint(ev: PointerEvent) {\n      this.initialPoint = { x: ev.screenX, y: ev.screenY };\n    }\n\n    private pointerDown(ev: PointerEvent) {\n      if (!enabled) return;\n      document.body.classList.add(options.bodyClassName);\n      this.moving = true;\n      this.resetInitialPoint(ev);\n      const scroll: Scroll = state.get('config.scroll');\n      this.initialDataIndex = { x: scroll.horizontal.dataIndex || 0, y: scroll.vertical.dataIndex || 0 };\n    }\n\n    private pointerUp(/*ev: PointerEvent*/) {\n      if (!enabled) return;\n      document.body.classList.remove(options.bodyClassName);\n      if (this.moving) {\n        this.moving = false;\n      }\n    }\n\n    private handleHorizontalMovement(diff: Point, ev: PointerEvent) {\n      const time = state.get('$data.chart.time');\n      if (diff.x > 0) {\n        // go backward - move dates forward\n        if (this.initialDataIndex.x === 0) {\n          return this.resetInitialPoint(ev);\n        }\n        const allDates = time.allDates[time.level];\n        let i = this.initialDataIndex.x - 1;\n        let width = 0;\n        for (; i > 0; i--) {\n          const date = allDates[i];\n          width += date.width;\n          if (width >= diff.x) break;\n        }\n        api.setScrollLeft(i, time);\n      } else if (diff.x < 0) {\n        // go forward - move dates backward\n        let i = this.initialDataIndex.x;\n        const hScroll = state.get('config.scroll.horizontal') as ScrollTypeHorizontal;\n        const allDates = time.allDates[time.level];\n        if (i - 1 >= allDates.length - hScroll.lastPageCount) {\n          return this.resetInitialPoint(ev);\n        }\n        let width = 0;\n        for (let len = allDates.length; i < len; i++) {\n          const date = allDates[i];\n          width += date.width;\n          if (-width <= diff.x) break;\n        }\n        if (i - 1 >= allDates.length - hScroll.lastPageCount) {\n          return;\n        }\n        api.setScrollLeft(i, time);\n      }\n    }\n\n    private pointerMove(ev: PointerEvent) {\n      if (!enabled || !this.moving) return;\n      const diffX = ev.screenX - this.initialPoint.x;\n      const diffY = ev.screenY - this.initialPoint.y;\n      const diff: Point = { x: diffX, y: diffY };\n      this.handleHorizontalMovement(diff, ev);\n    }\n  }\n\n  return function initialize(vidoInstance) {\n    vido = vidoInstance;\n    api = vido.api;\n    state = vido.state;\n    const pluginPath = 'config.plugin.CalendarScroll';\n    const currentOptions = vidoInstance.state.get(pluginPath);\n    if (currentOptions) {\n      options = mergeDeep({}, options, currentOptions);\n    }\n    state.update(pluginPath, options);\n    state.subscribe('config.plugin.CalendarScroll.enabled', (value) => (enabled = value));\n    state.update('config.actions.chart-calendar', (chartActions) => {\n      chartActions.push(ChartAction);\n      return chartActions;\n    });\n    return function destroy() {\n      state.update('config.actions.chart-calendar', (chartActions) => {\n        return chartActions.filter((action) => action !== ChartAction);\n      });\n    };\n  };\n}\n","/**\n * Weekend highlight plugin\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n\nimport Action from '@neuronet.io/vido/src/Action';\nimport { Api } from '../api/api';\nimport { Vido } from '../gstc';\nimport { mergeDeep } from '@neuronet.io/vido/src/helpers';\n\nexport interface Options {\n  weekdays?: number[];\n  className?: string;\n}\n\nexport function Plugin(options: Options = {}) {\n  const weekdays = options.weekdays || [6, 0];\n  let className;\n  let api: Api;\n  let enabled = true;\n\n  class WeekendHighlightAction extends Action {\n    constructor(element, data) {\n      super();\n      this.highlight(element, data.time.leftGlobal);\n    }\n\n    update(element, data) {\n      this.highlight(element, data.time.leftGlobal);\n    }\n\n    highlight(element, time) {\n      const hasClass = element.classList.contains(className);\n      if (!enabled) {\n        if (hasClass) {\n          element.classList.remove(className);\n        }\n        return;\n      }\n      const isWeekend = weekdays.includes(api.time.date(time).day());\n      if (!hasClass && isWeekend) {\n        element.classList.add(className);\n      } else if (hasClass && !isWeekend) {\n        element.classList.remove(className);\n      }\n    }\n  }\n\n  return function initialize(vidoInstance: Vido) {\n    const subs = [];\n    const pluginPath = 'config.plugin.HighlightWeekends';\n    api = vidoInstance.api;\n    className = options.className || api.getClass('chart-timeline-grid-row-cell') + '--weekend';\n    const currentOptions = vidoInstance.state.get(pluginPath);\n    if (currentOptions) {\n      options = mergeDeep({}, options, currentOptions);\n    }\n    subs.push(vidoInstance.state.subscribe('$data.chart.time.format.period', (period) => (enabled = period === 'day')));\n    vidoInstance.state.update('config.actions.chart-timeline-grid-row-cell', (actions) => {\n      actions.push(WeekendHighlightAction);\n      return actions;\n    });\n    return function onDestroy() {\n      subs.forEach((unsub) => unsub());\n      vidoInstance.state.update('config.actions.chart-timeline-grid-row-cell', (actions) => {\n        return actions.filter((action) => action !== WeekendHighlightAction);\n      });\n    };\n  };\n}\n","import * as TimelinePointer from './timeline-pointer.plugin';\nimport * as ItemMovement from './item-movement.plugin';\nimport * as ItemResizing from './item-resizing.plugin';\nimport * as Selection from './selection.plugin';\nimport * as CalendarScroll from './calendar-scroll.plugin';\nimport * as HighlightWeekends from './highlight-weekends.plugin';\n\nexport default { TimelinePointer, ItemMovement, ItemResizing, Selection, CalendarScroll, HighlightWeekends };\n"],"names":["pluginPath","Plugin","this","isBrowser","__asyncValues","emptyTemplateNode","generateEmptyData","prepareOptions","defaultOptions","TimelinePointer","ItemMovement","ItemResizing"],"mappings":"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AC,OAAO,CAAC,UAAU,CAAC,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CA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"}